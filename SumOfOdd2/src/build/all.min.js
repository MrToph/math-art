!function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){t.exports=r(1)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var a=r(2),o=n(a),i=r(4),s=n(i),c=r(5),u=n(c);window.stepper={},jQuery(function(){window.stepper=new u["default"];var t=new o["default"](jQuery("#svgContainer").get(0));window.stepper.registerCallback(1,t.onStep.bind(t));var e=new s["default"](jQuery("#mathContainer").get(0));window.stepper.registerCallback(1,e.onStep.bind(e))})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function i(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=function p(t,e,r){null===t&&(t=Function.prototype);var n=Object.getOwnPropertyDescriptor(t,e);if(void 0===n){var a=Object.getPrototypeOf(t);return null===a?void 0:p(a,e,r)}if("value"in n)return n.value;var o=n.get;if(void 0!==o)return o.call(r)},u=r(3),l=n(u),f=function(t){function e(t){a(this,e);var r=o(this,Object.getPrototypeOf(e).call(this));r.svg=null,r.margin={top:-0,right:-0,bottom:-0,left:-0},r.width=1e3,r.height=500,r.currentStep=0,r.maxStep=3;var n=r.width+r.margin.left+r.margin.right,i=r.height+r.margin.top+r.margin.bottom;r.trSize=60,r.numLayers=7,r.translate=[.5*(n-r.numLayers*r.trSize),0],r.scale=1;var s=d3.select(t).append("svg").attr("viewBox","0 0 "+n+" "+i).append("g").attr("transform","translate("+r.margin.left+","+r.margin.right+")");r.svg=s,s.append("rect").attr("class","svgOuterRect").attr("x",-r.margin.left).attr("y",-r.margin.top).attr("width",n).attr("height",i);var c=s.append("g").attr("transform","translate("+r.translate[0]+","+r.translate[1]+"),scale("+r.scale+")");return r.container=c,r.groups=r.container.append("g"),r.texts=r.container.append("g"),r.redraw(0),r}return i(e,t),s(e,[{key:"createData",value:function(t){var e=[],r=this.trSize,n=this.trSize,a="12pt",o="90pt";if(1>=t){var i=[r,n],s=[r+this.trSize,n],c=[r,n+this.trSize],u={id:[0,0],a:i,b:s,c:c,text:"Δ",fontSize:a,type:0};if(1===t){var l=[r+this.trSize*this.numLayers,n],f=[r,n+this.trSize*this.numLayers];u.b2=l,u.c2=f,u.newFontSize=o}e.push(u)}else if(2===t){var p=[r,n],h=[r+this.trSize*this.numLayers,n],d=[r,n+this.trSize*this.numLayers],y={id:[0,0],a:p,b:h,c:d,text:"n²Δ",fontSize:o,type:1};e.push(y)}else if(3===t)for(var v=0;v<this.numLayers;v++)for(var b=0;b<this.numLayers-v;b++){var g=[r+b*this.trSize,n+v*this.trSize],w=[r+b*this.trSize,n+(v+1)*this.trSize],m=[r+(b+1)*this.trSize,n+v*this.trSize],x=[r+(b+1)*this.trSize,n+(v+1)*this.trSize],S={id:[v,b,0],a:g,b:w,c:m,text:"Δ",fontSize:a,type:0};e.push(S),b<this.numLayers-v-1&&(S={id:[v,b,1],a:w,b:m,c:x,text:"Δ",fontSize:a,type:0},e.push(S))}this.groupData=e;var k=[];if(t>0){for(var z=0;z<this.numLayers;z++){var O="";switch(z){case 0:case 1:case 2:O=z+1;break;case 4:O="…";break;case this.numLayers-1:O="n"}var B={id:z,x:(z+1+.5)*this.trSize,y:.6*this.trSize,caption:O};k.push(B)}if(3===t)for(var j=0;j<this.numLayers;j++){var L="";switch(j){case 0:case 1:case 2:L=2*j+1;break;case 4:L="⋰";break;case this.numLayers-1:L="2n-1"}var D={x:(j+2.5)*this.trSize,y:(this.numLayers-j+.6)*this.trSize,caption:L};k.push(D)}}this.textData=k}},{key:"redraw",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.currentStep:arguments[0];this.currentStep=t,this.createData(t),this.groups.selectAll(".groupContainer").remove(),this.texts.selectAll(".outerTxt").remove(),this.createElements(),this.createAnimations(t)}},{key:"createElements",value:function(){var t=this.groups.selectAll(".groupContainer").data(this.groupData);t.enter().append("g").attr("class","groupContainer"),this.groups.selectAll(".groupContainer").append("polygon").attr("class","triangle").attr("points",function(t){return t.a[0]+","+t.a[1]+" "+t.b[0]+","+t.b[1]+" "+t.c[0]+","+t.c[1]+" "}).classed("firstColor",function(t){return 0===t.type}).classed("secondColor",function(t){return 1===t.type}),this.groups.selectAll(".groupContainer").append("text").attr("class","txt").text(function(t){return t.text}).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size",function(t){return t.fontSize}).attr("transform",function(t){var e=[1/3*(t.a[0]+t.b[0]+t.c[0]),1/3*(t.a[1]+t.b[1]+t.c[1])];return"translate("+e[0]+","+e[1]+")"}),this.texts.selectAll(".outerTxt").data(this.textData).enter().append("text").attr("class","outerTxt"),this.texts.selectAll(".outerTxt").text(function(t){return t.caption}).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("transform",function(t){return"translate("+t.x+","+t.y+")"})}},{key:"createAnimations",value:function(t){var e=this;if(1===t){var r=2e3;this.groups.selectAll(".triangle").transition().ease("linear").duration(r).attr("points",function(t){return t.a[0]+","+t.a[1]+" "+t.b2[0]+","+t.b2[1]+" "+t.c2[0]+","+t.c2[1]+" "}),this.groups.selectAll(".txt").transition().ease("linear").duration(r).attr("transform",function(t){var e=[1/3*(t.a[0]+t.b2[0]+t.c2[0]),1/3*(t.a[1]+t.b2[1]+t.c2[1])];return"translate("+e[0]+","+e[1]+")"}).attr("font-size",function(t){return t.newFontSize}).each("end",function(){return window.stepper.onForward()}),this.texts.selectAll(".outerTxt").style("opacity",0).transition().ease("linear").duration(r/this.numLayers).style("opacity",1).delay(function(t){return t.id*(r/e.numLayers)})}}},{key:"onStep",value:function(t){return this.groups.selectAll(".triangle").interrupt().transition(),this.groups.selectAll(".txt").interrupt().transition(),c(Object.getPrototypeOf(e.prototype),"onStep",this).call(this,t)}}]),e}(l["default"]);e["default"]=f},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(){function t(){r(this,t),this.maxStep=0}return n(t,[{key:"redraw",value:function(){arguments.length<=0||void 0===arguments[0]?this.currentStep:arguments[0],arguments[1]}},{key:"onStep",value:function(t){var e=this.currentStep;t?e++:e--,e=Math.min(Math.max(e,0),this.maxStep);var r={canBackward:!1,canForward:!1};return e>0&&(r.canBackward=!0),e<this.maxStep&&(r.canForward=!0),e===this.currentStep?r:(this.currentStep=e,this.redraw(this.currentStep,t),r)}}]),t}();e["default"]=a},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){return Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var c=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),u=a(["definecolor{colorRed}{RGB}{255,50,50}definecolor{colorGreen}{RGB}{50,205,50}\n                                    definecolor{colorBlue}{RGB}{50,50,255}definecolor{colorYellow}{RGB}{255,165,0}definecolor{colorPurple}{RGB}{138,43,226}"],["\\definecolor{colorRed}{RGB}{255,50,50}\\definecolor{colorGreen}{RGB}{50,205,50}\n                                    \\definecolor{colorBlue}{RGB}{50,50,255}\\definecolor{colorYellow}{RGB}{255,165,0}\\definecolor{colorPurple}{RGB}{138,43,226}"]),l=a(["	extcolor{colorRed}{Delta}"],["\\textcolor{colorRed}{\\Delta}"]),f=a(["	extcolor{colorBlue}{n^2Delta}"],["\\textcolor{colorBlue}{n^2\\Delta}"]),p=a(["	extcolor{colorBlue}{n^2Delta} = 	extcolor{colorRed}{1Delta + 3Delta + 5Delta + ldots + (2n-1)Delta}"],["\\textcolor{colorBlue}{n^2\\Delta} = \\textcolor{colorRed}{1\\Delta + 3\\Delta + 5\\Delta + \\ldots + (2n-1)\\Delta}"]),h=r(3),d=n(h),y=function(t){function e(t){o(this,e);var r=i(this,Object.getPrototypeOf(e).call(this));return r.width=1200,r.height=500,r.currentStep=0,r.element=t,r.maxStep=3,r.oldInnerHTML="",MathJax.Hub.Queue(function(){r.jax=MathJax.Hub.getAllJax("mathContainer")[0]},function(){r.redraw(0)}),r}return s(e,t),c(e,[{key:"redraw",value:function(){var t=(arguments.length<=0||void 0===arguments[0]?this.currentStep:arguments[0],this.getTextForCurrentStep());t!==this.oldInnerHTML&&(this.oldInnerHTML=t,MathJax.Hub.queue.Push(["Text",this.jax,t]))}},{key:"getTextForCurrentStep",value:function(){var t=String.raw(u),e="";switch(this.currentStep){case 0:case 1:e=String.raw(l);break;case 2:e=String.raw(f);break;case 3:e=String.raw(p)}return t+" \\smash{"+e+"}"}}]),e}(d["default"]);e["default"]=y},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(){function t(){r(this,t),this.currentLayer=1,this.callbacks=[],window.addEventListener("keydown",this.onKeyDown.bind(this),!1)}return n(t,[{key:"onForward",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.currentLayer:arguments[0];this.currentLayer=t,this.doStep(!0)}},{key:"onBackward",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.currentLayer:arguments[0];this.currentLayer=t,this.doStep(!1)}},{key:"doStep",value:function(t){for(var e={canBackward:!1,canForward:!1},r=0;r<this.callbacks[this.currentLayer].length;r++)e=this.callbacks[this.currentLayer][r](t);this.disableButtons(this.currentLayer,e)}},{key:"disableButtons",value:function(t,e){document.getElementById("leftBtn"+t).disabled=!e.canBackward,document.getElementById("rightBtn"+t).disabled=!e.canForward}},{key:"registerCallback",value:function(t,e){"undefined"==typeof this.callbacks[t]&&(this.callbacks[t]=[]),this.callbacks[t].push(e),this.disableButtons(t,{canBackward:!1,canForward:!0})}},{key:"onKeyDown",value:function(t){switch(t.keyCode){case 65:case 37:this.onBackward(1);break;case 68:case 39:this.onForward(1)}}}]),t}();e["default"]=a}]);