{"version":3,"sources":["../js/visualization.jsx"],"names":[],"mappings":";;;;;;IAAM;AACJ,aADI,aACJ,CAAY,OAAZ,EAAqB;8BADjB,eACiB;;AACnB,aAAK,GAAL,GAAW,IAAX,CADmB;AAEnB,aAAK,MAAL,GAAc,EAAC,KAAK,CAAC,CAAD,EAAI,OAAO,CAAC,CAAD,EAAI,QAAQ,CAAC,CAAD,EAAI,MAAM,CAAC,CAAD,EAArD,CAFmB;AAGnB,aAAK,KAAL,GAAa,IAAb,CAHmB;AAInB,aAAK,MAAL,GAAc,GAAd,CAJmB;;AAMnB,aAAK,WAAL,GAAmB,CAAnB,CANmB;AAOnB,aAAK,OAAL,GAAe,CAAf,CAPmB;;AASnB,YAAI,YAAY,KAAK,KAAL,GAAa,KAAK,MAAL,CAAY,IAAZ,GAAmB,KAAK,MAAL,CAAY,KAAZ,CAT7B;AAUnB,YAAI,aAAa,KAAK,MAAL,GAAc,KAAK,MAAL,CAAY,GAAZ,GAAkB,KAAK,MAAL,CAAY,MAAZ;;AAV9B,YAYnB,CAAK,OAAL,GAAe,GAAf,CAZmB;AAanB,aAAK,SAAL,GAAiB,CAAjB,CAbmB;AAcnB,aAAK,SAAL,GAAiB,CAAC,CAAC,YAAY,KAAK,SAAL,GAAiB,KAAK,OAAL,CAA9B,GAA8C,GAA9C,EAAkD,CAAnD,CAAjB,CAdmB;AAenB,aAAK,KAAL,GAAa,CAAb,CAfmB;;AAiBnB,YAAI,MAAM,GAAG,MAAH,CAAU,OAAV,EAAmB,MAAnB,CAA0B,KAA1B,EACL,IADK,CACA,SADA,EACW,SAAS,SAAT,GAAqB,GAArB,GAA2B,UAA3B,CADX,CAEL,MAFK,CAEE,GAFF,EAGL,IAHK,CAGA,WAHA,EAGa,eAAe,KAAK,MAAL,CAAY,IAAZ,GAAmB,GAAlC,GAAwC,KAAK,MAAL,CAAY,KAAZ,GAAoB,GAA5D,CAHnB,CAjBe;;AAsBnB,aAAK,GAAL,GAAW,GAAX,CAtBmB;;AAwBnB,YAAI,OAAO,IAAI,MAAJ,CAAW,MAAX,EACE,IADF,CACO,OADP,EACgB,cADhB,EAEE,IAFF,CAEO,GAFP,EAEY,CAAC,KAAK,MAAL,CAAY,IAAZ,CAFb,CAGE,IAHF,CAGO,GAHP,EAGY,CAAC,KAAK,MAAL,CAAY,GAAZ,CAHb,CAIE,IAJF,CAIO,OAJP,EAIgB,SAJhB,EAKE,IALF,CAKO,QALP,EAKiB,UALjB,CAAP,CAxBe;;AA+BnB,YAAI,YAAY,IAAI,MAAJ,CAAW,GAAX,EACG,IADH,CACQ,WADR,EACqB,eAAe,KAAK,SAAL,CAAe,CAAf,CAAf,GAAmC,GAAnC,GAAyC,KAAK,SAAL,CAAe,CAAf,CAAzC,GAA6D,UAA7D,GAA0E,KAAK,KAAL,GAAa,GAAvF,CADjC,CA/Be;AAiCnB,aAAK,SAAL,GAAiB,SAAjB,CAjCmB;AAkCnB,aAAK,OAAL,GAAe,KAAK,SAAL,CAAe,MAAf,CAAsB,GAAtB,CAAf,CAlCmB;AAmCnB,aAAK,KAAL,GAAa,KAAK,SAAL,CAAe,MAAf,CAAsB,GAAtB,CAAb,CAnCmB;;AAqCnB,aAAK,MAAL,CAAY,CAAZ,EArCmB;KAArB;;iBADI;;qCAyCO;AACT,gBAAI,SAAS,EAAT,CADK;AAET,iBAAI,IAAI,IAAI,CAAJ,EAAO,IAAI,KAAK,SAAL,EAAgB,GAAnC,EAAuC;AACnC,qBAAI,IAAI,IAAI,CAAJ,EAAO,IAAI,KAAK,SAAL,EAAgB,GAAnC,EAAuC;AACnC,wBAAI,OAAO,IAAI,KAAK,OAAL,CADoB;AAEnC,wBAAI,OAAO,IAAI,KAAK,OAAL,CAFoB;AAGnC,wBAAI,OAAO,KAAK,GAAL,CAAS,KAAK,SAAL,GAAgB,CAAhB,GAAoB,CAApB,EAAsB,CAA/B,CAAP,CAH+B;AAInC,2BAAO,OAAO,CAAP,CAJ4B;AAKnC,wBAAI,MAAM,EAAC,IAAI,CAAC,CAAD,EAAG,CAAH,CAAJ,EAAW,GAAG,IAAH,EAAS,GAAG,IAAH,EAAS,MAAM,IAAN,EAApC,CAL+B;AAMnC,2BAAO,IAAP,CAAY,GAAZ,EANmC;iBAAvC;aADJ;AAUA,iBAAK,UAAL,GAAkB,MAAlB,CAZS;;AAcT,gBAAI,SAAS,EAAT,CAdK;AAeT,iBAAI,IAAI,KAAI,CAAJ,EAAO,KAAI,KAAK,SAAL,EAAgB,IAAnC,EAAuC;AACnC,oBAAI,UAAU,KAAG,KAAE,CAAF,CAAH,GAAU,CAAV,CADqB;AAEnC,oBAAG,OAAM,KAAK,SAAL,GAAiB,CAAjB,EACL,UAAU,GAAV,CADJ,KAEK,IAAG,OAAM,KAAK,SAAL,GAAiB,CAAjB,EACV,UAAU,MAAV,CADC;AAEL,oBAAI,OAAM,EAAC,GAAG,CAAC,KAAI,GAAJ,CAAD,GAAY,KAAK,OAAL,EAAc,GAAG,CAAC,KAAK,SAAL,GAAiB,GAAjB,GAAuB,EAAvB,CAAD,GAA6B,KAAK,OAAL,EAAc,SAAS,OAAT,EAAkB,MAAM,KAAI,CAAJ,EAA1G,CAN+B;AAOnC,uBAAO,IAAP,CAAY,IAAZ,EAPmC;aAAvC;AASA,iBAAI,IAAI,MAAI,CAAJ,EAAO,MAAI,KAAK,SAAL,EAAgB,KAAnC,EAAuC;AACnC,oBAAI,WAAU,MAAI,CAAJ,CADqB;AAEnC,oBAAG,QAAM,KAAK,SAAL,GAAiB,CAAjB,EACL,WAAU,GAAV,CADJ,KAEK,IAAG,QAAM,KAAK,SAAL,GAAiB,CAAjB,EACV,WAAU,GAAV,CADC;AAEL,oBAAI,QAAM,EAAC,GAAG,CAAC,MAAI,GAAJ,CAAD,GAAY,KAAK,OAAL,EAAc,GAAG,CAAC,KAAK,SAAL,GAAiB,GAAjB,CAAD,GAA0B,KAAK,OAAL,EAAc,SAAS,QAAT,EAAkB,MAAM,CAAN,EAAjG,CAN+B;AAOnC,uBAAO,IAAP,CAAY,KAAZ,EAPmC;aAAvC;AASA,iBAAK,QAAL,GAAgB,MAAhB,CAjCS;;;;iCAoCkB;gBAAxB,6DAAO,KAAK,WAAL,gBAAiB;;AAC3B,iBAAK,WAAL,GAAmB,IAAnB,CAD2B;AAE3B,iBAAK,UAAL,GAF2B;AAG3B,iBAAK,cAAL,GAH2B;;;;yCAMb;AACd,gBAAI,UAAU,KAAK,OAAL,CAAa,SAAb,CAAuB,SAAvB,EAAkC,IAAlC,CAAuC,KAAK,UAAL,CAAjD,CADU;AAEd,oBAAQ,KAAR,GAAgB,MAAhB,CAAuB,MAAvB,EAA+B,IAA/B,CAAoC,OAApC,EAA6C,QAA7C,EAFc;AAGd,iBAAK,OAAL,CAAa,SAAb,CAAuB,SAAvB,EACa,IADb,CACkB,OADlB,EAC2B,KAAK,OAAL,CAD3B,CAEa,IAFb,CAEkB,QAFlB,EAE4B,KAAK,OAAL,CAF5B,CAGa,IAHb,CAGkB,GAHlB,EAGuB;uBAAK,EAAE,CAAF;aAAL,CAHvB,CAIa,IAJb,CAIkB,GAJlB,EAIuB;uBAAK,EAAE,CAAF;aAAL,CAJvB,CAKa,OALb,CAKqB,YALrB,EAKmC;uBAAK,EAAE,IAAF,IAAU,CAAV;aAAL,CALnC,CAMa,OANb,CAMqB,aANrB,EAMoC;uBAAK,EAAE,IAAF,IAAU,CAAV;aAAL,CANpC,CAHc;;AAWd,gBAAI,QAAQ,KAAK,KAAL,CAAW,SAAX,CAAqB,MAArB,EAA6B,IAA7B,CAAkC,KAAK,QAAL,CAAlC,CAAiD,KAAjD,GAAyD,MAAzD,CAAgE,MAAhE,EAAwE,IAAxE,CAA6E,OAA7E,EAAsF,KAAtF,CAAR,CAXU;AAYd,oBAAQ,KAAK,KAAL,CAAW,SAAX,CAAqB,MAArB,EACa,IADb,CACmB;uBAAK,EAAE,OAAF;aAAL,CADnB,CAEa,IAFb,CAEkB,aAFlB,EAEiC,QAFjC;aAGa,IAHb,CAGkB,mBAHlB,EAGuC,QAHvC;aAIa,IAJb,CAIkB,WAJlB,EAI+B;uBAAK,eAAgB,EAAE,CAAF,GAAO,GAAvB,GAA6B,EAAE,CAAF,GAAM,GAAnC;aAAL,CAJ/B,CAKa,OALb,CAKqB,YALrB,EAKmC;uBAAK,EAAE,IAAF,IAAU,CAAV;aAAL,CALnC,CAMa,OANb,CAMqB,aANrB,EAMoC;uBAAK,EAAE,IAAF,IAAU,CAAV;aAAL,CAN5C,CAZc;;;;WAnFZ","file":"visualization-compiled.js","sourcesContent":["class Visualization {\r\n  constructor(element) {\r\n    this.svg = null;\r\n    this.margin = {top: -0, right: -0, bottom: -0, left: -0};\r\n    this.width = 1800;\r\n    this.height = 900;\r\n\r\n    this.currentStep = 0;\r\n    this.maxStep = 0;\r\n\r\n    let realWidth = this.width + this.margin.left + this.margin.right;\r\n    let realHeight = this.height + this.margin.top + this.margin.bottom;\r\n    // Constants\r\n    this.sqrSize = 100;\r\n    this.numLayers = 8;\r\n    this.translate = [(realWidth - this.numLayers * this.sqrSize) * 0.5,0];\r\n    this.scale = 1;\r\n\r\n    let svg = d3.select(element).append(\"svg\")\r\n        .attr(\"viewBox\", \"0 0 \" + realWidth + \" \" + realHeight)\r\n        .append(\"g\")\r\n        .attr(\"transform\", \"translate(\" + this.margin.left + \",\" + this.margin.right + \")\")\r\n\r\n    this.svg = svg;\r\n\r\n    let rect = svg.append(\"rect\")\r\n                .attr(\"class\", \"svgOuterRect\")\r\n                .attr(\"x\", -this.margin.left)\r\n                .attr(\"y\", -this.margin.top)\r\n                .attr(\"width\", realWidth)\r\n                .attr(\"height\", realHeight);\r\n\r\n    let container = svg.append(\"g\")\r\n                      .attr(\"transform\", \"translate(\" + this.translate[0] + \",\" + this.translate[1] + \"),scale(\" + this.scale + \")\");\r\n    this.container = container;\r\n    this.squares = this.container.append('g');\r\n    this.texts = this.container.append('g');\r\n\r\n    this.redraw(0);\r\n  }\r\n\r\ncreateData() {\r\n    let sqrArr = [];\r\n    for(let i = 0; i < this.numLayers; i++){\r\n        for(let j = 0; j < this.numLayers; j++){\r\n            let xPos = j * this.sqrSize;\r\n            let yPos = i * this.sqrSize;\r\n            let type = Math.max(this.numLayers -1 - i,j);\r\n            type = type % 2;\r\n            let obj = {id: [i,j], x: xPos, y: yPos, type: type};\r\n            sqrArr.push(obj);\r\n        }\r\n    }\r\n    this.squareData = sqrArr;\r\n\r\n    let txtArr = [];\r\n    for(let i = 0; i < this.numLayers; i++){\r\n        let caption = 2*(i+1) - 1;\r\n        if(i === this.numLayers - 2)\r\n            caption = \"\\u22f0\";\r\n        else if(i === this.numLayers - 1)\r\n            caption = \"2n-1\";\r\n        let obj = {x: (i + 0.5) * this.sqrSize, y: (this.numLayers - 0.4 - i) * this.sqrSize, caption: caption, type: i % 2};\r\n        txtArr.push(obj);\r\n    }\r\n    for(let i = 0; i < this.numLayers; i++){\r\n        let caption = i + 1;\r\n        if(i === this.numLayers - 2)\r\n            caption = \"\\u2026\";\r\n        else if(i === this.numLayers - 1)\r\n            caption = \"n\";\r\n        let obj = {x: (i + 0.5) * this.sqrSize, y: (this.numLayers + 0.6 ) * this.sqrSize, caption: caption, type: 2};\r\n        txtArr.push(obj);\r\n    }\r\n    this.textData = txtArr;\r\n}\r\n\r\nredraw(step = this.currentStep){\r\n    this.currentStep = step;\r\n    this.createData();\r\n    this.createPolygons();\r\n}\r\n\r\n  createPolygons(){\r\n    let squares = this.squares.selectAll(\".square\").data(this.squareData);\r\n    squares.enter().append('rect').attr('class', 'square');\r\n    this.squares.selectAll(\".square\")\r\n                .attr('width', this.sqrSize)\r\n                .attr('height', this.sqrSize)\r\n                .attr('x', d => d.x)\r\n                .attr('y', d => d.y)\r\n                .classed('firstColor', d => d.type == 0)\r\n                .classed('secondColor', d => d.type == 1);\r\n\r\n    let texts = this.texts.selectAll(\".txt\").data(this.textData).enter().append('text').attr('class', 'txt');\r\n    texts = this.texts.selectAll(\".txt\")\r\n                        .text( d => d.caption)\r\n                        .attr('text-anchor', \"middle\")  // horizontal alignment\r\n                        .attr('dominant-baseline', \"middle\")  // vertical alignment\r\n                        .attr('transform', d => \"translate(\" + (d.x) + \",\" + d.y + \")\")\r\n                        .classed('firstColor', d => d.type == 1)\r\n                        .classed('secondColor', d => d.type == 0);\r\n  }\r\n}"]}