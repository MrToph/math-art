"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var stepper={};jQuery(function(){new Visualization(jQuery("#svgContainer").get(0))}),Number.prototype.clamp=function(a,b){return Math.min(Math.max(this,a),b)};var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Visualization=function(){function a(b){_classCallCheck(this,a),this.svg=null,this.margin={top:-0,right:-0,bottom:-0,left:-0},this.width=1800,this.height=900,this.currentStep=0,this.maxStep=0;var c=this.width+this.margin.left+this.margin.right,d=this.height+this.margin.top+this.margin.bottom;this.sqrSize=100,this.numLayers=8,this.translate=[.5*(c-this.numLayers*this.sqrSize),0],this.scale=1;var e=d3.select(b).append("svg").attr("viewBox","0 0 "+c+" "+d).append("g").attr("transform","translate("+this.margin.left+","+this.margin.right+")");this.svg=e;var f=(e.append("rect").attr("class","svgOuterRect").attr("x",-this.margin.left).attr("y",-this.margin.top).attr("width",c).attr("height",d),e.append("g").attr("transform","translate("+this.translate[0]+","+this.translate[1]+"),scale("+this.scale+")"));this.container=f,this.squares=this.container.append("g"),this.texts=this.container.append("g"),this.redraw(0)}return _createClass(a,[{key:"createData",value:function(){for(var a=[],b=0;b<this.numLayers;b++)for(var c=0;c<this.numLayers;c++){var d=c*this.sqrSize,e=b*this.sqrSize,f=Math.max(this.numLayers-1-b,c);f%=2;var g={id:[b,c],x:d,y:e,type:f};a.push(g)}this.squareData=a;for(var h=[],i=0;i<this.numLayers;i++){var j=2*(i+1)-1;i===this.numLayers-2?j="⋰":i===this.numLayers-1&&(j="2n-1");var k={x:(i+.5)*this.sqrSize,y:(this.numLayers-.4-i)*this.sqrSize,caption:j,type:i%2};h.push(k)}for(var l=0;l<this.numLayers;l++){var m=l+1;l===this.numLayers-2?m="…":l===this.numLayers-1&&(m="n");var n={x:(l+.5)*this.sqrSize,y:(this.numLayers+.6)*this.sqrSize,caption:m,type:2};h.push(n)}this.textData=h}},{key:"redraw",value:function(){var a=arguments.length<=0||void 0===arguments[0]?this.currentStep:arguments[0];this.currentStep=a,this.createData(),this.createPolygons()}},{key:"createPolygons",value:function(){var a=this.squares.selectAll(".square").data(this.squareData);a.enter().append("rect").attr("class","square"),this.squares.selectAll(".square").attr("width",this.sqrSize).attr("height",this.sqrSize).attr("x",function(a){return a.x}).attr("y",function(a){return a.y}).classed("firstColor",function(a){return 0==a.type}).classed("secondColor",function(a){return 1==a.type});var b=this.texts.selectAll(".txt").data(this.textData).enter().append("text").attr("class","txt");b=this.texts.selectAll(".txt").text(function(a){return a.caption}).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("transform",function(a){return"translate("+a.x+","+a.y+")"}).classed("firstColor",function(a){return 1==a.type}).classed("secondColor",function(a){return 0==a.type})}}]),a}();
//# sourceMappingURL=sourceMap.map