!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a=r(2),i=n(a),o=r(4),s=n(o);window.stepper={},jQuery(function(){window.stepper=new s["default"];var e=new i["default"](jQuery("#svgContainer").get(0));window.stepper.registerCallback(1,e.onStep.bind(e))})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function p(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:p(a,t,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},u=r(3),f=n(u),h=function(e){function t(e){i(this,t);var r=o(this,Object.getPrototypeOf(t).call(this));r.svg=null,r.margin={top:-0,right:-0,bottom:-0,left:-0},r.width=1e3,r.height=1e3,r.currentStep=0,r.maxStep=1;var n=r.width+r.margin.left+r.margin.right,a=r.height+r.margin.top+r.margin.bottom;r.layer=6,r.offsetFactor=2,r.eleSize=40;var s=.5*(n-r.layer*(r.layer+1)/2*r.eleSize-r.offsetFactor*r.eleSize);r.translate=[s,s],r.scale=1;var c=d3.select(e).append("svg").attr("viewBox","0 0 "+n+" "+a).append("g").attr("transform","translate("+r.margin.left+","+r.margin.right+")");r.svg=c,c.append("rect").attr("class","svgOuterRect").attr("x",-r.margin.left).attr("y",-r.margin.top).attr("width",n).attr("height",a);var l=c.append("g").attr("class","container").attr("transform","translate("+r.translate[0]+","+r.translate[1]+"),scale("+r.scale+")");return r.container=l,r.elements=r.container.append("g"),r.outer=r.container.append("g"),r.redraw(0),r}return s(t,e),c(t,[{key:"createData",value:function(e){for(var t=[],r=this.offsetFactor*this.eleSize,n=0,i=0;i<this.layer;i++){r+=i*this.eleSize;var o=i+1,s=1,c=this.createEle(i,r,n,o,s,"");t.push.apply(t,a(c)),c=this.createEle(i,n,r,s,o,""),t.push.apply(t,a(c))}var l=this.offsetFactor*this.eleSize;r=0,n=0;for(var u=0;u<this.layer;u++){var f=[];r+=u*this.eleSize;var h=u+1,p=this.createEle(u,r+l,r+l,h,h,u+1+"²");f.push.apply(f,a(p)),u%2&&(p=this.createEle(u,r+l,l,h,h/2,u+1+"²/2"),f.push.apply(f,a(p)),p=this.createEle(u,l,r+l,h/2,h,u+1+"²/2"),f.push.apply(f,a(p))),n=u%2*(h/2)*this.eleSize;for(var d=0;d<Math.floor(u/2);d++)p=this.createEle(u,r+l,n+l,h,h,u+1+"²"),f.push.apply(f,a(p)),p=this.createEle(u,n+l,r+l,h,h,u+1+"²"),f.push.apply(f,a(p)),n+=h*this.eleSize;f.reverse(),t.push.apply(t,f)}this.elementData=t}},{key:"createEle",value:function(e,t,r,n,a,i){var o=16;e>1&&(o=2*o),o+="pt";var s=[];s.push({id:e,x:t,y:r,width:n*this.eleSize,height:a*this.eleSize,type:0,text:i,fontSize:o});for(var c=0;n>c;c++)for(var l=0;a>l;l++){var u=t+c*this.eleSize,f=r+l*this.eleSize,h={id:[e,c,l],x:u,y:f,width:this.eleSize,height:this.eleSize,type:e+1};s.push(h)}return s}},{key:"redraw",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.currentStep:arguments[0];this.currentStep=e,this.createData(e),this.elements.selectAll(".groupContainer").remove(),this.outer.selectAll(".outerGroup").remove(),this.createElements(e)}},{key:"createElements",value:function(e){var t=this.elements.selectAll(".groupContainer").data(this.elementData);t.enter().append("g").attr("class","groupContainer").classed("holdsText",function(e){return 0===e.type}),this.elements.selectAll(".groupContainer").append("rect").attr("class","element").attr("x",function(e){return e.x}).attr("y",function(e){return e.y}).attr("width",function(e){return e.width}).attr("height",function(e){return e.height}).classed("thickBorder",function(e){return 0===e.type}).classed("color1",function(e){return 1===e.type}).classed("color2",function(e){return 2===e.type}).classed("color3",function(e){return 3===e.type}).classed("color4",function(e){return 4===e.type}).classed("color5",function(e){return 5===e.type}).classed("color6",function(e){return 6===e.type}),e>0&&this.elements.selectAll(".holdsText").append("text").attr("class","txt").text(function(e){return e.text}).attr("text-anchor","middle").attr("dominant-baseline","middle").attr("font-size",function(e){return e.fontSize}).attr("transform",function(e){var t=[e.x+.5*e.width,e.y+.5*e.height];return"translate("+t[0]+","+t[1]+")"})}},{key:"onStep",value:function(e){return l(Object.getPrototypeOf(t.prototype),"onStep",this).call(this,e)}}]),t}(f["default"]);t["default"]=h},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){r(this,e),this.maxStep=0}return n(e,[{key:"redraw",value:function(){arguments.length<=0||void 0===arguments[0]?this.currentStep:arguments[0],arguments[1]}},{key:"onStep",value:function(e){var t=this.currentStep;e?t++:t--,t=Math.min(Math.max(t,0),this.maxStep);var r={canBackward:!1,canForward:!1};return t>0&&(r.canBackward=!0),t<this.maxStep&&(r.canForward=!0),t===this.currentStep?r:(this.currentStep=t,this.redraw(this.currentStep,e),r)}}]),e}();t["default"]=a},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){r(this,e),this.currentLayer=1,this.callbacks=[],window.addEventListener("keydown",this.onKeyDown.bind(this),!1)}return n(e,[{key:"onForward",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.currentLayer:arguments[0];this.currentLayer=e,this.doStep(!0)}},{key:"onBackward",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.currentLayer:arguments[0];this.currentLayer=e,this.doStep(!1)}},{key:"doStep",value:function(e){for(var t={canBackward:!1,canForward:!1},r=0;r<this.callbacks[this.currentLayer].length;r++)t=this.callbacks[this.currentLayer][r](e);this.disableButtons(this.currentLayer,t)}},{key:"disableButtons",value:function(e,t){document.getElementById("leftBtn"+e).disabled=!t.canBackward,document.getElementById("rightBtn"+e).disabled=!t.canForward}},{key:"registerCallback",value:function(e,t){"undefined"==typeof this.callbacks[e]&&(this.callbacks[e]=[]),this.callbacks[e].push(t),this.disableButtons(e,{canBackward:!1,canForward:!0})}},{key:"onKeyDown",value:function(e){switch(e.keyCode){case 65:case 37:this.onBackward(1);break;case 68:case 39:this.onForward(1)}}}]),e}();t["default"]=a}]);