{"version":3,"sources":["../js/stepper.jsx"],"names":[],"mappings":";;;;;;IAAM;AACJ,WADI,OACJ,GAAc;0BADV,SACU;;AACV,SAAK,YAAL,GAAoB,CAApB,CADU;AAEV,SAAK,SAAL,GAAiB,EAAjB,CAFU;AAGV,WAAO,gBAAP,CAAwB,SAAxB,EAAmC,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,CAAnC,EAA8D,KAA9D;AAHU,GAAd;;eADI;;gCAOgC;UAA1B,8DAAQ,KAAK,YAAL,gBAAkB;;AAChC,WAAK,YAAL,GAAoB,KAApB,CADgC;AAEhC,WAAK,MAAL,CAAY,IAAZ,EAFgC;;;;iCAKC;UAA1B,8DAAQ,KAAK,YAAL,gBAAkB;;AACjC,WAAK,YAAL,GAAoB,KAApB,CADiC;AAEjC,WAAK,MAAL,CAAY,KAAZ,EAFiC;;;;2BAK9B,SAAQ;AACf,UAAI,qBAAqB,EAAC,aAAa,KAAb,EAAoB,YAAY,KAAZ,EAA1C,CADW;AAEb,WAAI,IAAI,IAAI,CAAJ,EAAO,IAAI,KAAK,SAAL,CAAe,KAAK,YAAL,CAAf,CAAkC,MAAlC,EAA0C,GAA7D,EAAiE;AAC/D,6BAAqB,KAAK,SAAL,CAAe,KAAK,YAAL,CAAf,CAAkC,CAAlC,EAAqC,OAArC,CAArB,CAD+D;OAAjE;AAGA,WAAK,cAAL,CAAoB,KAAK,YAAL,EAAmB,kBAAvC,EALa;;;;mCAQA,OAAO,oBAAmB;AACvC,eAAS,cAAT,CAAwB,YAAU,KAAV,CAAxB,CAAyC,QAAzC,GAAoD,CAAC,mBAAmB,WAAnB,CADd;AAEvC,eAAS,cAAT,CAAwB,aAAW,KAAX,CAAxB,CAA0C,QAA1C,GAAqD,CAAC,mBAAmB,UAAnB,CAFf;;;;qCAKxB,OAAO,UAAS;AAC/B,UAAI,OAAO,KAAK,SAAL,CAAe,KAAf,CAAP,KAAiC,WAAjC,EAA8C;;AAEhD,aAAK,SAAL,CAAe,KAAf,IAAwB,EAAxB,CAFgD;OAAlD;AAIA,WAAK,SAAL,CAAe,KAAf,EAAsB,IAAtB,CAA2B,QAA3B,EAL+B;AAM/B,WAAK,cAAL,CAAoB,KAApB,EAA2B,EAAC,aAAa,KAAb,EAAoB,YAAY,IAAZ,EAAhD,EAN+B;;;;8BASvB,GAAE;AACV,cAAO,EAAE,OAAF;AACL,aAAK,EAAL;AADF,aAEO,EAAL;;AACA,eAAK,UAAL,CAAgB,CAAhB,EADA;AAEA,gBAFA;AAFF,aAKO,EAAL;AALF,aAMO,EAAL;;AACA,eAAK,SAAL,CAAe,CAAf,EADA;AAEA,gBAFA;AANF,OADU;;;;SAvCR","file":"stepper-compiled.js","sourcesContent":["class Stepper { \r\n  constructor() {\r\n      this.currentLayer = 1;\r\n      this.callbacks = [];\r\n      window.addEventListener(\"keydown\", this.onKeyDown.bind(this), false); // need bind otherwise this = window\r\n  }\r\n\r\n  onForward(layer = this.currentLayer){\r\n      this.currentLayer = layer;\r\n      this.doStep(true);\r\n  }\r\n\r\n  onBackward(layer = this.currentLayer){\r\n      this.currentLayer = layer;\r\n      this.doStep(false);\r\n  }\r\n\r\n  doStep(forward){\r\n  var buttonActivatorObj = {canBackward: false, canForward: false};\r\n    for(var i = 0; i < this.callbacks[this.currentLayer].length; i++){\r\n      buttonActivatorObj = this.callbacks[this.currentLayer][i](forward);\r\n    }\r\n    this.disableButtons(this.currentLayer, buttonActivatorObj);\r\n  }\r\n\r\n  disableButtons(layer, buttonActivatorObj){\r\n    document.getElementById(\"leftBtn\"+layer).disabled = !buttonActivatorObj.canBackward;\r\n    document.getElementById(\"rightBtn\"+layer).disabled = !buttonActivatorObj.canForward;\r\n  }\r\n\r\n  registerCallback(layer, callback){\r\n    if (typeof this.callbacks[layer] === 'undefined') {\r\n      // the variable is undefined\r\n      this.callbacks[layer] = [];\r\n    }\r\n    this.callbacks[layer].push(callback);\r\n    this.disableButtons(layer, {canBackward: false, canForward: true});\r\n  }\r\n\r\n  onKeyDown(e){\r\n    switch(e.keyCode){\r\n      case 65:  // a\r\n      case 37:  // left arrow\r\n      this.onBackward(1);\r\n      break;\r\n      case 68:  // d\r\n      case 39:  // right arrow\r\n      this.onForward(1);\r\n      break;\r\n    }\r\n  }\r\n}\r\n"]}