{"version":3,"sources":["../js/visualization.jsx"],"names":[],"mappings":"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","file":"visualization-compiled.js","sourcesContent":["class Visualization {\r\n  constructor(element) {\r\n    this.svg = null;\r\n    this.margin = {top: -0, right: -0, bottom: -0, left: -0};\r\n    this.width = 1400;\r\n    this.height = 700;\r\n\r\n    this.currentStep = 0;\r\n    this.maxStep = 0;\r\n\r\n    this.translate = [0,0];\r\n    this.scale = 1;\r\n\r\n    let realWidth = this.width + this.margin.left + this.margin.right;\r\n    let realHeight = this.height + this.margin.top + this.margin.bottom;\r\n    let svg = d3.select(element).append(\"svg\")\r\n        .attr(\"viewBox\", \"0 0 \" + realWidth + \" \" + realHeight)\r\n        .append(\"g\")\r\n        .attr(\"transform\", \"translate(\" + this.margin.left + \",\" + this.margin.right + \")\")\r\n\r\n    this.svg = svg;\r\n\r\n    let rect = svg.append(\"rect\")\r\n                .attr(\"class\", \"svgOuterRect\")\r\n                .attr(\"x\", -this.margin.left)\r\n                .attr(\"y\", -this.margin.top)\r\n                .attr(\"width\", realWidth)\r\n                .attr(\"height\", realHeight);\r\n\r\n    let container = svg.append(\"g\")\r\n                      .attr(\"transform\", \"translate(\" + this.translate[0] + \",\" + this.translate[1] + \"),scale(\" + this.scale + \")\");\r\n    this.container = container;\r\n    this.circles = this.container.append('g')\r\n                    .attr(\"transform\", \"translate(\" + (realWidth*0.5) + \",\" + 0 + \")\");\r\n    this.links = [];\r\n\r\n    // Constants\r\n    this.colors = [\"#ff3232\", \"#32CD32\", \"#3232ff\", \"#ffa500\", \"#8A2BE2\"];\r\n    this.circRadius = 50;\r\n    this.numLayers = 7;\r\n\r\n    this.redraw(0);\r\n  }\r\n\r\ncreateData() {\r\n    let arr = [];\r\n    for(let i = 0; i < this.numLayers; i++){\r\n        let xOffset = i * this.circRadius;\r\n        for(let j = 0; j <= i; j++){\r\n            let xPos = j * (2 * this.circRadius) - xOffset;\r\n            let yPos = (i*2 + 1) * this.circRadius;\r\n            let layer = i;\r\n            let obj = {id: [i,j], radius: this.circRadius*0.9, x: xPos, y: yPos, \r\n                class: (i === this.numLayers - 1) ? \"lowerCircle\" : \"upperCircle\"};\r\n            arr.push(obj);\r\n        }\r\n    }\r\n    this.circleData = arr;\r\n}\r\n\r\nredraw(step = this.currentStep){\r\n    this.currentStep = step;\r\n    // create the circles\r\n    this.createData();\r\n    this.createCircles();\r\n    // create the links\r\n    let linksContainer = this.circles.append('g');\r\n    for(let i = 0; i < 2; i++){\r\n        this.links[i] = linksContainer.append('line')\r\n            .attr(\"class\", \"link\")\r\n            .classed(\"svgHidden\", true)\r\n            .attr(\"x1\", 0).attr(\"x2\", 0).attr(\"y1\", 0).attr(\"y2\", 0);\r\n    }\r\n    // update the circles\r\n    this.updateCircles();\r\n\r\n}\r\n\r\n  createCircles(){\r\n    let circles = this.circles.selectAll(\".circle\").data(this.circleData);\r\n    circles.enter().append('circle').attr('class', 'circle');\r\n  }\r\n\r\n  updateCircles(){\r\n    this.circles.selectAll(\".circle\")\r\n                .attr('id', d => d.id[0] + \",\" + d.id[1])\r\n                .attr('r', d => d.radius)\r\n                .attr('cx', d => d.x)\r\n                .attr('cy', d => d.y)\r\n                .attr('class', d => 'circle ' + d.class);\r\n    let _this = this;\r\n    this.circles.selectAll(\".upperCircle\")\r\n                .on(\"mouseover\", function(d){\r\n                    // this.style.cursor='pointer';\r\n                    _this.pointLinks(d3.select(this));\r\n                })\r\n                .on(\"mouseout\", function(d){\r\n                    _this.hideLinks();\r\n                });\r\n  }\r\n\r\n  hideLinks(){\r\n    this.circles.selectAll('.lowerCircle').classed(\"lowerCircleSelected\", false);\r\n    for(let i = 0; i < 2; i++){\r\n        this.links[i].classed(\"svgHidden\", true);\r\n    }\r\n  }\r\n\r\n  pointLinks(circ){\r\n    for(let i = 0; i < 2; i++){\r\n        this.links[i].classed(\"svgHidden\", false)\r\n            .attr(\"x1\", circ.attr(\"cx\"))\r\n            .attr(\"y1\", circ.attr(\"cy\"));\r\n    }\r\n    let [r,c] = circ.attr(\"id\").split(',');\r\n    r = parseInt(r);\r\n    c = parseInt(c);\r\n    for(let i = 0; i < 2; i++){\r\n        let c2 = (i === 0) ? c : this.numLayers - 1 - r + c;\r\n        let circTo = this.circles.selectAll('.lowerCircle').filter((d,index) => index === c2);\r\n        this.links[i]\r\n            .attr(\"x2\", circTo.attr(\"cx\"))\r\n            .attr(\"y2\", circTo.attr(\"cy\"));\r\n        circTo.classed(\"lowerCircleSelected\", true);\r\n    }\r\n  }\r\n}"]}