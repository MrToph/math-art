"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}var stepper={};jQuery(function(){new Visualization(jQuery("#svgContainer").get(0))}),Number.prototype.clamp=function(a,b){return Math.min(Math.max(this,a),b)};var _slicedToArray=function(){function a(a,b){var c=[],d=!0,e=!1,f=void 0;try{for(var g,h=a[Symbol.iterator]();!(d=(g=h.next()).done)&&(c.push(g.value),!b||c.length!==b);d=!0);}catch(i){e=!0,f=i}finally{try{!d&&h["return"]&&h["return"]()}finally{if(e)throw f}}return c}return function(b,c){if(Array.isArray(b))return b;if(Symbol.iterator in Object(b))return a(b,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),_createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),Visualization=function(){function a(b){_classCallCheck(this,a),this.svg=null,this.margin={top:-0,right:-0,bottom:-0,left:-0},this.width=1400,this.height=700,this.currentStep=0,this.maxStep=0,this.translate=[0,0],this.scale=1;var c=this.width+this.margin.left+this.margin.right,d=this.height+this.margin.top+this.margin.bottom,e=d3.select(b).append("svg").attr("viewBox","0 0 "+c+" "+d).append("g").attr("transform","translate("+this.margin.left+","+this.margin.right+")");this.svg=e;var f=(e.append("rect").attr("class","svgOuterRect").attr("x",-this.margin.left).attr("y",-this.margin.top).attr("width",c).attr("height",d),e.append("g").attr("transform","translate("+this.translate[0]+","+this.translate[1]+"),scale("+this.scale+")"));this.container=f,this.circles=this.container.append("g").attr("transform","translate("+.5*c+",0)"),this.links=[],this.colors=["#ff3232","#32CD32","#3232ff","#ffa500","#8A2BE2"],this.circRadius=50,this.numLayers=7,this.redraw(0)}return _createClass(a,[{key:"createData",value:function(){for(var a=[],b=0;b<this.numLayers;b++)for(var c=b*this.circRadius,d=0;b>=d;d++){var e=d*(2*this.circRadius)-c,f=(2*b+1)*this.circRadius,g={id:[b,d],radius:.9*this.circRadius,x:e,y:f,"class":b===this.numLayers-1?"lowerCircle":"upperCircle"};a.push(g)}this.circleData=a}},{key:"redraw",value:function(){var a=arguments.length<=0||void 0===arguments[0]?this.currentStep:arguments[0];this.currentStep=a,this.createData(),this.createCircles();for(var b=this.circles.append("g"),c=0;2>c;c++)this.links[c]=b.append("line").attr("class","link").classed("svgHidden",!0).attr("x1",0).attr("x2",0).attr("y1",0).attr("y2",0);this.updateCircles()}},{key:"createCircles",value:function(){var a=this.circles.selectAll(".circle").data(this.circleData);a.enter().append("circle").attr("class","circle")}},{key:"updateCircles",value:function(){this.circles.selectAll(".circle").attr("id",function(a){return a.id[0]+","+a.id[1]}).attr("r",function(a){return a.radius}).attr("cx",function(a){return a.x}).attr("cy",function(a){return a.y}).attr("class",function(a){return"circle "+a["class"]});var a=this;this.circles.selectAll(".upperCircle").on("mouseover",function(b){a.pointLinks(d3.select(this))}).on("mouseout",function(b){a.hideLinks()})}},{key:"hideLinks",value:function(){this.circles.selectAll(".lowerCircle").classed("lowerCircleSelected",!1);for(var a=0;2>a;a++)this.links[a].classed("svgHidden",!0)}},{key:"pointLinks",value:function(a){for(var b=this,c=0;2>c;c++)this.links[c].classed("svgHidden",!1).attr("x1",a.attr("cx")).attr("y1",a.attr("cy"));var d=a.attr("id").split(","),e=_slicedToArray(d,2),f=e[0],g=e[1];f=parseInt(f),g=parseInt(g);for(var h=function(a){var c=0===a?g:b.numLayers-1-f+g,d=b.circles.selectAll(".lowerCircle").filter(function(a,b){return b===c});b.links[a].attr("x2",d.attr("cx")).attr("y2",d.attr("cy")),d.classed("lowerCircleSelected",!0)},i=0;2>i;i++)h(i)}}]),a}();
//# sourceMappingURL=sourceMap.map