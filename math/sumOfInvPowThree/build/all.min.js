!function(t){function e(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return t[n].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var r={};return e.m=t,e.c=r,e.p="",e(0)}([function(t,e,r){t.exports=r(1)},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var a=r(2),i=n(a);jQuery(function(){new i["default"](jQuery("#svgContainer").get(0))})},function(t,e,r){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}function a(t){if(Array.isArray(t)){for(var e=0,r=Array(t.length);e<t.length;e++)r[e]=t[e];return r}return Array.from(t)}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),c=r(3),l=n(c),p=function(t){function e(t){i(this,e);var r=o(this,Object.getPrototypeOf(e).call(this));r.svg=null,r.margin={top:-0,right:-0,bottom:-0,left:-0},r.width=1e3,r.height=500,r.currentStep=0,r.maxStep=0;var n=r.width+r.margin.left+r.margin.right,a=r.height+r.margin.top+r.margin.bottom;r.eleSize=500,r.numLayers=10,r.translate=[.5*(n-r.eleSize),0],r.scale=1;var s=d3.select(t).append("svg").attr("viewBox","0 0 "+n+" "+a).append("g").attr("transform","translate("+r.margin.left+","+r.margin.right+")");r.svg=s,s.append("rect").attr("class","svgOuterRect").attr("x",-r.margin.left).attr("y",-r.margin.top).attr("width",n).attr("height",a);var u=s.append("g").attr("transform","translate("+r.translate[0]+","+r.translate[1]+"),scale("+r.scale+")");return r.container=u,r.polys=r.container.append("g"),r.rects=r.container.append("g"),r.redraw(0),r}return s(e,t),u(e,[{key:"createData",value:function(t){var e=[],r=[];this.numLayers=10;for(var n=0;n<this.numLayers;n++){if(n%2===0){var i=this.createRectData(n,0),o=this.createRectData(n,1),s=this.createRectData(n,2);e.push(i),e.push(o),e.push(s)}var u=this.createPolyData(n);r.push.apply(r,a(u))}this.rectData=e.reverse(),this.polyData=r}},{key:"createRectData",value:function(t,e){var r=.3333,n=Math.ceil(t/2),a=Math.pow(r,n)*this.eleSize,i=r*a,o={layer:t};if(t%2===0){var s=new Array(n).fill(r).reduce(function(t,e){return t*r+e},0);s*=this.eleSize,o.width=i,o.height=a,o.x=s+e*i,o.y=s}return o}},{key:"createPolyData",value:function(t){var e=.3333,r=Math.floor(t/2),n=Math.pow(e,r)*this.eleSize,a=e*n,i=[],o=new Array(r).fill(e).reduce(function(t,r){return t*e+r},0)*this.eleSize;if(t%2===0){var s={layer:r,type:0},u={layer:r,type:1},c={layer:r,type:2},l=[o,o],p=[o+a,o],f=[o+a,o+a],h=[o+a,o+n],y=[o,o+n];s.points=this.pointsToString([l,f,h,y]),u.points=this.pointsToString([l,p,f]),o+=2*a,l=[o,o],p=[o+a,o+a],f=[o,o+a],c.points=this.pointsToString([l,p,f]),i.push(s),i.push(u),i.push(c)}else{var d={layer:r,type:0};o+=a;var v=o+a,g=[o,v],m=[o+a,v],w=[o+a,v+a],b=[o,v+a];d.points=this.pointsToString([g,m,w,b]),i.push(d)}return i}},{key:"pointsToString",value:function(t){return t.map(function(t){return t.join(",")}).join(" ")}},{key:"redraw",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.currentStep:arguments[0];this.currentStep=t,this.createData(t),this.createElements(),this.createContainerMouseOver()}},{key:"createElements",value:function(){var t=this.polys.selectAll(".poly").data(this.polyData);t.enter().append("polygon").attr("class","poly").attr("points",function(t){return t.points}).classed("firstColor",function(t){return 0===t.type}).classed("secondColor",function(t){return 1===t.type}).classed("thirdColor",function(t){return 2===t.type}),t=this.rects.selectAll(".square").data(this.rectData),t.enter().append("rect").attr("class","square").attr("x",function(t){return t.x}).attr("y",function(t){return t.y}).attr("width",function(t){return t.width}).attr("height",function(t){return t.height})}},{key:"createContainerMouseOver",value:function(){var t=this;this.container.on("mouseover",function(){console.log(t.polys.selectAll(".poly")),t.polys.selectAll(".poly").classed("light0",function(t){return 0===t.layer&&1===t.type}).classed("dark0",function(t){return 0===t.layer&&2===t.type}).classed("light1",function(t){return 1===t.layer&&1===t.type}).classed("dark1",function(t){return 1===t.layer&&2===t.type}).classed("light2",function(t){return 2===t.layer&&1===t.type}).classed("dark2",function(t){return 2===t.layer&&2===t.type}).classed("light3",function(t){return 3===t.layer&&1===t.type}).classed("dark3",function(t){return 3===t.layer&&2===t.type})}).on("mouseout",function(e){t.polys.selectAll(".poly").classed("light0",!1).classed("dark0",!1).classed("light1",function(t){return!1}).classed("dark1",function(t){return!1}).classed("light2",function(t){return!1}).classed("dark2",function(t){return!1}).classed("light3",function(t){return!1}).classed("dark3",function(t){return!1})})}}]),e}(l["default"]);e["default"]=p},function(t,e){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}return function(e,r,n){return r&&t(e.prototype,r),n&&t(e,n),e}}(),a=function(){function t(){r(this,t),this.maxStep=0}return n(t,[{key:"redraw",value:function(){arguments.length<=0||void 0===arguments[0]?this.currentStep:arguments[0],arguments[1]}},{key:"onStep",value:function(t){var e=this.currentStep;t?e++:e--,e=Math.min(Math.max(e,0),this.maxStep);var r={canBackward:!1,canForward:!1};return e>0&&(r.canBackward=!0),e<this.maxStep&&(r.canForward=!0),e===this.currentStep?r:(this.currentStep=e,this.redraw(this.currentStep,t),r)}}]),t}();e["default"]=a}]);