{"version":3,"sources":["webpack:///webpack/bootstrap 308f1b8c1a3a4b526ff6","webpack:///./src/js/app.jsx","webpack:///./src/js/Visualization.jsx","webpack:///./src/js/ISteppable.jsx"],"names":[],"mappings":"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","file":"all.min.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 308f1b8c1a3a4b526ff6\n **/","import Visualization from './Visualization';\r\n// import MathContainer from './MathContainer';\r\n// import Stepper from './Stepper';\r\n\r\n// window.stepper = {};\r\njQuery(function () {\r\n  // window.stepper = new Stepper();\r\n  let vis = new Visualization(jQuery('#svgContainer').get(0));\r\n  // window.stepper.registerCallback(1, vis.onStep.bind(vis)); // layer 1\r\n  // let mathContainer = new MathContainer(jQuery('#mathContainer').get(0));\r\n  // window.stepper.registerCallback(1, mathContainer.onStep.bind(mathContainer)); // layer 1\r\n});\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/app.jsx\n **/","import ISteppable from './ISteppable';\r\nexport default class Visualization extends ISteppable {\r\n  constructor (element) {\r\n    super();\r\n    this.svg = null;\r\n    this.margin = {top: -0, right: -0, bottom: -0, left: -0};\r\n    this.width = 1000;\r\n    this.height = 500;\r\n\r\n    this.currentStep = 0;\r\n    this.maxStep = 0;\r\n\r\n    let realWidth = this.width + this.margin.left + this.margin.right;\r\n    let realHeight = this.height + this.margin.top + this.margin.bottom;\r\n    // Constants\r\n    this.eleSize = 500;\r\n    this.numLayers = 10;\r\n    this.translate = [(realWidth - this.eleSize) * 0.5, 0];\r\n    this.scale = 1;\r\n\r\n    let svg = d3.select(element).append('svg')\r\n      .attr('viewBox', '0 0 ' + realWidth + ' ' + realHeight)\r\n      .append('g')\r\n      .attr('transform', 'translate(' + this.margin.left + ',' + this.margin.right + ')');\r\n\r\n    this.svg = svg;\r\n\r\n    svg.append('rect')\r\n      .attr('class', 'svgOuterRect')\r\n      .attr('x', -this.margin.left)\r\n      .attr('y', -this.margin.top)\r\n      .attr('width', realWidth)\r\n      .attr('height', realHeight);\r\n    let container = svg.append('g')\r\n      .attr('transform', 'translate(' + this.translate[0] + ',' + this.translate[1] + '),scale(' + this.scale + ')');\r\n    this.container = container;\r\n    this.rects = this.container.append('g');\r\n    this.redraw(0);\r\n  }\r\n\r\n  createData (step) {\r\n    let rectData = [];\r\n    let pos = [0, 0];\r\n    let sidelength = 1.0;\r\n    // this.numLayers = 1\r\n    for (let i = 0; i < this.numLayers; i++) {\r\n      let rectSize = 0.5 * sidelength * this.eleSize;\r\n      let obj = {layer: i, x: pos[0], y: pos[1] + rectSize, width: rectSize, height: rectSize, type: 1};\r\n      rectData.push(obj);\r\n      obj = {layer: i, x: pos[0], y: pos[1], width: rectSize, height: rectSize, type: 0};\r\n      rectData.push(obj);\r\n      obj = {layer: i, x: pos[0] + rectSize, y: pos[1] + rectSize, width: rectSize, height: rectSize, type: 0};\r\n      rectData.push(obj);\r\n      pos[0] += rectSize;\r\n      sidelength *= 0.5;\r\n    }\r\n    this.rectData = rectData.reverse();\r\n  }\r\n\r\n  redraw (step = this.currentStep) {\r\n    this.currentStep = step;\r\n    this.createData(step);\r\n    this.createElements();\r\n  }\r\n\r\n  createElements () {\r\n    let eles = this.rects.selectAll('.square').data(this.rectData);\r\n    eles.enter().append('rect').attr('class', 'square')\r\n      .attr('x', d => d.x)\r\n      .attr('y', d => d.y)\r\n      .attr('width', d => d.width)\r\n      .attr('height', d => d.height)\r\n      .classed('firstColor', d => d.type === 0)\r\n      .classed('secondColor', d => d.type === 1)\r\n      .on('mouseover', d => {\r\n        this.rects.selectAll('.square').classed('highlighted', d2 => d2.layer === d.layer)\r\n        .classed('unhighlighted', d2 => d2.layer !== d.layer);\r\n      })\r\n      .on('mouseout', d => {\r\n        this.rects.selectAll('.square').classed('highlighted', false)\r\n        .classed('unhighlighted', false);\r\n      })\r\n      ;\r\n  }\r\n\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/Visualization.jsx\n **/","export default class ISteppable {\r\n    constructor () {\r\n        this.maxStep = 0;   // override it in child\r\n    }\r\n\r\n    redraw(step = this.currentStep, forward){\r\n\r\n    }\r\n\r\n    onStep(forward){\r\n        let nextStep = this.currentStep;\r\n        if(forward)\r\n          nextStep++;\r\n        else{\r\n          nextStep--;\r\n        }\r\n        nextStep = Math.min(Math.max(nextStep, 0), this.maxStep);\r\n        let buttonActivatorObj = {canBackward: false, canForward: false};\r\n        if(nextStep > 0)\r\n            buttonActivatorObj.canBackward = true;\r\n        if(nextStep < this.maxStep)\r\n            buttonActivatorObj.canForward = true;\r\n\r\n        if(nextStep === this.currentStep)\r\n            return buttonActivatorObj;\r\n        this.currentStep = nextStep;\r\n        this.redraw(this.currentStep, forward);\r\n        return buttonActivatorObj;\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** ./src/js/ISteppable.jsx\n **/"],"sourceRoot":""}