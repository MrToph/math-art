{"version":3,"sources":["../js/pythagoras.jsx"],"names":[],"mappings":"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","file":"pythagoras-compiled.js","sourcesContent":["class Pythagoras extends ISteppable{\r\n  constructor() {\r\n    super();\r\n    this.svg = null;\r\n    this.margin = {top: -5, right: -5, bottom: -5, left: -5};\r\n    this.width = 1200 - this.margin.left - this.margin.right;\r\n    this.height = 500 - this.margin.top - this.margin.bottom;\r\n\r\n    this.currentStep = 0;\r\n    this.squareSize = 450;\r\n    this.squareOffset = [{top: 25, left: 50}, {top: 25, left: this.width - this.squareSize - 50}];\r\n    this.r = this.squareSize * .7;\r\n\r\n    this.colors = [\"#ff3232\", \"#32ff32\", \"#3232ff\"];\r\n    this.maxStep = 7;\r\n\r\n    this.translate = [0,0];\r\n    this.scale = 1;\r\n  }\r\n\r\n  init(element){\r\n    var realWidth = this.width + this.margin.left + this.margin.right;\r\n    var realHeight = this.height + this.margin.top + this.margin.bottom;\r\n    var svg = d3.select(element).append(\"svg\")\r\n        .attr(\"viewBox\", \"0 0 \" + realWidth + \" \" + realHeight)\r\n        // .attr('width', \"100%\") // automatically resize\r\n        // .attr('height', \"100%\")\r\n        .append(\"g\")\r\n        .attr(\"transform\", \"translate(\" + this.margin.left + \",\" + this.margin.right + \")\")\r\n\r\n    this.svg = svg;\r\n\r\n    var rect = svg.append(\"rect\")\r\n                .attr(\"class\", \"svgOuterRect\")\r\n                .attr(\"x\", -this.margin.left)\r\n                .attr(\"y\", -this.margin.top)\r\n                .attr(\"width\", realWidth)\r\n                .attr(\"height\", realHeight);\r\n\r\n    var container = svg.append(\"g\")\r\n                      .attr(\"transform\", \"translate(\" + this.translate[0] + \",\" + this.translate[1] + \"),scale(\" + this.scale + \")\");\r\n    this.createGradient();\r\n    this.container = container;\r\n    this.triangles = container.append('svg:g');\r\n    this.squares = container.append('svg:g');\r\n    this.texts = container.append('svg:g');\r\n    this.dragPoint = container.append('svg:g');\r\n    this.redraw(0);\r\n  }\r\n\r\n  getSVG() {\r\n    return this.svg;\r\n  }\r\n\r\n  toSVGCoordinates(point) {\r\n    var p = [point[0], point[1]];\r\n    p[0] = (p[0] - this.translate[0]) / this.scale;\r\n    p[1] = (p[1] - this.translate[1]) / this.scale;\r\n    return p;\r\n  }\r\n\r\n  idToPoint(id) {\r\n    return jQuery.grep(this.points, e => e.id === id)[0];\r\n  }\r\n\r\n  // triangleData Explanation:\r\n  // a, b, c: The inherent shape of the triangle (no position/translation data here).\r\n  // pivot: Where the pivot will be w.r.t a,b,c (also no position data)\r\n  // rotate: rotation in degrees. Rotates around pivot\r\n  // translate: World coordinate where the pivot will be set to offset by + this.squareOffsets[squareOffset]\r\n  // squareOffset: offsets translate by + this.squareOffsets[squareOffset]\r\n  createShapes(step) {\r\n    switch(step){\r\n      case 0:{\r\n        this.points = [\r\n        {id: 100, x: 0, y: 0},\r\n        {id: 101, x: this.r, y: 0},\r\n        {id: 102, x: 0, y: this.squareSize - this.r},\r\n        {id: 999, x: this.squareOffset[0].left + this.r, y: this.squareOffset[0].top}];\r\n        this.triangleData = [\r\n        {a: 100, b:101, c:102, pivot: 100, translate: 100, squareIndex: 0, rotation: 0}\r\n        ];\r\n        this.squareData = [\r\n        ];\r\n        this.dragPointData = [{index: 999}];\r\n        this.textData = [];\r\n        break;\r\n      }\r\n      case 1:{\r\n        this.points = [\r\n        {id: 1, x: 0, y: 0},\r\n        {id: 2, x: this.r, y: 0},\r\n        {id: 3, x: this.squareSize, y: this.r},\r\n        {id: 4, x: this.squareSize - this.r, y: this.squareSize},\r\n        {id: 5, x: 0, y: this.squareSize - this.r},\r\n        {id: 100, x: 0, y: 0},\r\n        {id: 101, x: this.r, y: 0},\r\n        {id: 102, x: 0, y: this.squareSize - this.r},\r\n        {id: 999, x: this.squareOffset[0].left + this.r, y: this.squareOffset[0].top}\r\n        ];\r\n        this.triangleData = [\r\n        {a: 100, b:101, c:102, pivot: 100, translate: 1, squareIndex: 0, rotation: 0},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 2, squareIndex: 0, rotation: 180 },   // rotate from 180 to 90\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 3, squareIndex: 0, rotation: 270},   // rotate from 270 to 180\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 4, squareIndex: 0, rotation: 360}      // rotate from 0 to 270\r\n        ];\r\n        this.squareData = [\r\n        {a: 2, b: 3, c: 4, d: 5, squareIndex: 0, color: this.colors[0]}\r\n        ];\r\n        this.dragPointData = [];\r\n        this.textData = [];\r\n        break;\r\n      }\r\n      case 2:{\r\n        this.points = [\r\n        {id: 1, x: 0, y: 0},\r\n        {id: 2, x: this.r, y: 0},\r\n        {id: 3, x: this.squareSize, y: this.r},\r\n        {id: 4, x: this.squareSize - this.r, y: this.squareSize},\r\n        {id: 5, x: 0, y: this.squareSize - this.r},\r\n        {id: 100, x: 0, y: 0},\r\n        {id: 101, x: this.r, y: 0},\r\n        {id: 102, x: 0, y: this.squareSize - this.r},\r\n        {id: 999, x: this.squareOffset[0].left + this.r, y: this.squareOffset[0].top}\r\n        ];\r\n        this.triangleData = [\r\n        {a: 100, b:101, c:102, pivot: 100, translate: 1, squareIndex: 0, rotation: 0},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 2, squareIndex: 0, rotation: 90 },   // rotate from 180 to 90\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 3, squareIndex: 0, rotation: 180},   // rotate from 270 to 180\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 4, squareIndex: 0, rotation: 270}      // rotate from 0 to 270\r\n        ];\r\n        this.squareData = [\r\n        {a: 2, b: 3, c: 4, d: 5, squareIndex: 0, color: this.colors[0]}\r\n        ];\r\n        this.dragPointData = [{index: 999}];\r\n        this.textData = [];\r\n        break;\r\n      }\r\n      case 3:{\r\n        this.points = [\r\n        {id: 1, x: 0, y: 0},\r\n        {id: 2, x: this.r, y: 0},\r\n        {id: 3, x: this.squareSize, y: this.r},\r\n        {id: 4, x: this.squareSize - this.r, y: this.squareSize},\r\n        {id: 5, x: 0, y: this.squareSize - this.r},\r\n        {id: 100, x: 0, y: 0},\r\n        {id: 101, x: this.r, y: 0},\r\n        {id: 102, x: 0, y: this.squareSize - this.r},\r\n        {id: 998, x: (this.squareOffset[0].left + this.squareSize + this.squareOffset[1].left)/2 - 22, y: this.squareOffset[0].top + this.squareSize/2 + 43},\r\n        {id: 999, x: this.squareOffset[0].left + this.r, y: this.squareOffset[0].top}\r\n        ];\r\n        this.triangleData = [\r\n        {a: 100, b:101, c:102, pivot: 100, translate: 1, squareIndex: 0, rotation: 0},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 2, squareIndex: 0, rotation: 90 },\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 3, squareIndex: 0, rotation: 180},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 4, squareIndex: 0, rotation: 270},\r\n        {a: 100, b:101, c:102, pivot: 100, translate: 1, squareIndex: 1, rotation: 0},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 2, squareIndex: 1, rotation: 90 },\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 3, squareIndex: 1, rotation: 180},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 4, squareIndex: 1, rotation: 270},\r\n        ];\r\n        this.squareData = [\r\n        {a: 2, b: 3, c: 4, d: 5, squareIndex: 0, color: this.colors[0]},\r\n        {a: 2, b: 3, c: 4, d: 5, squareIndex: 1, color: \"url(#gradient)\"}\r\n        ];\r\n        this.dragPointData = [{index: 999}];\r\n        this.textData = [{caption: \"=\", fontSize: \"72pt\", translate: 998}];\r\n        break;\r\n      }\r\n      case 4:{\r\n        this.points = [\r\n        {id: 1, x: 0, y: 0},\r\n        {id: 2, x: this.r, y: 0},\r\n        {id: 3, x: this.squareSize, y: this.r},\r\n        {id: 4, x: this.squareSize - this.r, y: this.squareSize},\r\n        {id: 5, x: 0, y: this.squareSize - this.r},\r\n        {id: 100, x: 0, y: 0},\r\n        {id: 101, x: this.r, y: 0},\r\n        {id: 102, x: 0, y: this.squareSize - this.r},\r\n        {id: 200, x: this.squareSize - this.r, y: 0},\r\n        {id: 201, x: this.squareSize, y: 0},\r\n        {id: 202, x: this.squareSize - this.r, y: this.r},\r\n        {id: 203, x: this.squareSize, y: this.r},\r\n        {id: 204, x: 0, y: this.r},\r\n        {id: 205, x: 0, y: this.squareSize},\r\n        {id: 206, x: this.squareSize - this.r, y: this.squareSize},\r\n        {id: 998, x: (this.squareOffset[0].left + this.squareSize + this.squareOffset[1].left)/2 - 22, y: this.squareOffset[0].top + this.squareSize/2 + 43},\r\n        {id: 999, x: this.squareOffset[0].left + this.r, y: this.squareOffset[0].top}\r\n        ];\r\n        this.triangleData = [\r\n        {a: 100, b:101, c:102, pivot: 101, translate: 2, squareIndex: 0, rotation: 0},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 2, squareIndex: 0, rotation: 90 },\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 3, squareIndex: 0, rotation: 180},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 4, squareIndex: 0, rotation: 270},\r\n        {a: 100, b:101, c:102, pivot: 101, translate: 2, squareIndex: 1, rotation: 0, rotationTo: -90, moveTo: 1},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 2, squareIndex: 1, rotation: 90, moveTo: 1},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 3, squareIndex: 1, rotation: 180},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 4, squareIndex: 1, rotation: 270, rotationTo: 360},\r\n        ];\r\n        this.squareData = [\r\n        {a: 2, b: 3, c: 4, d: 5, squareIndex: 0, color: this.colors[0]},\r\n        {a: 2, b: 3, c: 4, d: 5, squareIndex: 1, color: \"url(#gradient)\"},\r\n        {a: 200, b: 201, c: 203, d: 202, squareIndex: 1, color: this.colors[1]},\r\n        {a: 204, b: 202, c: 206, d: 205, squareIndex: 1, color: this.colors[2]},\r\n        ];\r\n        this.dragPointData = [];\r\n        this.textData = [{caption: \"=\", fontSize: \"72pt\", translate: 998}];\r\n        break;\r\n      }\r\n      case 5:{\r\n        this.points = [\r\n        {id: 1, x: 0, y: 0},\r\n        {id: 2, x: this.r, y: 0},\r\n        {id: 3, x: this.squareSize, y: this.r},\r\n        {id: 4, x: this.squareSize - this.r, y: this.squareSize},\r\n        {id: 5, x: 0, y: this.squareSize - this.r},\r\n        {id: 100, x: 0, y: 0},\r\n        {id: 101, x: this.r, y: 0},\r\n        {id: 102, x: 0, y: this.squareSize - this.r},\r\n        {id: 200, x: this.squareSize - this.r, y: 0},\r\n        {id: 201, x: this.squareSize, y: 0},\r\n        {id: 202, x: this.squareSize - this.r, y: this.r},\r\n        {id: 203, x: this.squareSize, y: this.r},\r\n        {id: 204, x: 0, y: this.r},\r\n        {id: 205, x: 0, y: this.squareSize},\r\n        {id: 206, x: this.squareSize - this.r, y: this.squareSize},\r\n        {id: 998, x: (this.squareOffset[0].left + this.squareSize + this.squareOffset[1].left)/2 - 22, y: this.squareOffset[0].top + this.squareSize/2 + 43},\r\n        {id: 999, x: this.squareOffset[0].left + this.r, y: this.squareOffset[0].top}\r\n        ];\r\n        this.triangleData = [\r\n        {a: 100, b:101, c:102, pivot: 101, translate: 2, squareIndex: 0, rotation: 0},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 2, squareIndex: 0, rotation: 90 },\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 3, squareIndex: 0, rotation: 180},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 4, squareIndex: 0, rotation: 270},\r\n        {a: 100, b:101, c:102, pivot: 101, translate: 1, squareIndex: 1, rotation: 270},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 1, squareIndex: 1, rotation: 90},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 3, squareIndex: 1, rotation: 180},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 4, squareIndex: 1, rotation: 0},\r\n        ];\r\n        this.squareData = [\r\n        {a: 2, b: 3, c: 4, d: 5, squareIndex: 0, color: this.colors[0]},\r\n        {a: 200, b: 201, c: 203, d: 202, squareIndex: 1, color: this.colors[1]},\r\n        {a: 204, b: 202, c: 206, d: 205, squareIndex: 1, color: this.colors[2]},\r\n        ];\r\n        this.dragPointData = [{index: 999}];\r\n        this.textData = [{caption: \"=\", fontSize: \"72pt\", translate: 998}];\r\n        break;\r\n      }\r\n      case 6:{\r\n        this.points = [\r\n        {id: 1, x: 0, y: 0},\r\n        {id: 2, x: this.r, y: 0},\r\n        {id: 3, x: this.squareSize, y: this.r},\r\n        {id: 4, x: this.squareSize - this.r, y: this.squareSize},\r\n        {id: 5, x: 0, y: this.squareSize - this.r},\r\n        {id: 100, x: 0, y: 0},\r\n        {id: 101, x: this.r, y: 0},\r\n        {id: 102, x: 0, y: this.squareSize - this.r},\r\n        {id: 200, x: this.squareSize - this.r, y: 0},\r\n        {id: 201, x: this.squareSize, y: 0},\r\n        {id: 202, x: this.squareSize - this.r, y: this.r},\r\n        {id: 203, x: this.squareSize, y: this.r},\r\n        {id: 204, x: 0, y: this.r},\r\n        {id: 205, x: 0, y: this.squareSize},\r\n        {id: 206, x: this.squareSize - this.r, y: this.squareSize},\r\n        {id: 998, x: (this.squareOffset[0].left + this.squareSize + this.squareOffset[1].left)/2 - 22, y: this.squareOffset[0].top + this.squareSize/2 + 43},\r\n        {id: 999, x: this.squareOffset[0].left + this.r, y: this.squareOffset[0].top}\r\n        ];\r\n        this.triangleData = [\r\n        {a: 100, b:101, c:102, pivot: 101, translate: 2, squareIndex: 0, rotation: 0},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 2, squareIndex: 0, rotation: 90 },\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 3, squareIndex: 0, rotation: 180},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 4, squareIndex: 0, rotation: 270},\r\n        {a: 100, b:101, c:102, pivot: 101, translate: 1, squareIndex: 1, rotation: 270},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 1, squareIndex: 1, rotation: 90},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 3, squareIndex: 1, rotation: 180},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 4, squareIndex: 1, rotation: 0},\r\n        ];\r\n        this.squareData = [\r\n        {a: 2, b: 3, c: 4, d: 5, squareIndex: 0, color: this.colors[0]},\r\n        {a: 200, b: 201, c: 203, d: 202, squareIndex: 1, color: this.colors[1]},\r\n        {a: 204, b: 202, c: 206, d: 205, squareIndex: 1, color: this.colors[2]},\r\n        ];\r\n        this.dragPointData = [];\r\n        this.textData = [{caption: \"=\", fontSize: \"72pt\", translate: 998}];\r\n        break;\r\n      }\r\n      case 7:{\r\n        this.points = [\r\n        {id: 1, x: 0, y: 0},\r\n        {id: 2, x: this.r, y: 0},\r\n        {id: 3, x: this.squareSize, y: this.r},\r\n        {id: 4, x: this.squareSize - this.r, y: this.squareSize},\r\n        {id: 5, x: 0, y: this.squareSize - this.r},\r\n        {id: 100, x: 0, y: 0},\r\n        {id: 101, x: this.r, y: 0},\r\n        {id: 102, x: 0, y: this.squareSize - this.r},\r\n        {id: 200, x: this.squareSize - this.r, y: 0},\r\n        {id: 201, x: this.squareSize, y: 0},\r\n        {id: 202, x: this.squareSize - this.r, y: this.r},\r\n        {id: 203, x: this.squareSize, y: this.r},\r\n        {id: 204, x: 0, y: this.r},\r\n        {id: 205, x: 0, y: this.squareSize},\r\n        {id: 206, x: this.squareSize - this.r, y: this.squareSize},\r\n        {id: 998, x: (this.squareOffset[0].left + this.squareSize + this.squareOffset[1].left)/2 - 22, y: this.squareOffset[0].top + this.squareSize/2 + 43},\r\n        {id: 999, x: this.squareOffset[0].left + this.r, y: this.squareOffset[0].top}\r\n        ];\r\n        this.triangleData = [\r\n        {a: 100, b:101, c:102, pivot: 101, translate: 2, squareIndex: 0, rotation: 0},\r\n        {a: 100, b:101, c:102, pivot: 102, translate: 4, squareIndex: 1, rotation: 0},\r\n        ];\r\n        this.squareData = [\r\n        {a: 2, b: 3, c: 4, d: 5, squareIndex: 0, color: this.colors[0]},\r\n        {a: 200, b: 201, c: 203, d: 202, squareIndex: 1, color: this.colors[1]},\r\n        {a: 204, b: 202, c: 206, d: 205, squareIndex: 1, color: this.colors[2]},\r\n        ];\r\n        this.dragPointData = [{index: 999}];\r\n        this.textData = [{caption: \"=\", fontSize: \"72pt\", translate: 998}];\r\n        break;\r\n      }\r\n    }\r\n  }\r\n\r\n  redraw(step = this.currentStep){\r\n    this.currentStep = step;\r\n\r\n    var _this = this;\r\n    this.createShapes(step);\r\n\r\n    ////////////////////\r\n    ///// TRIANGLES ////\r\n    ////////////////////\r\n    this.triangles.selectAll('.outerTriangle').remove();  // kill it to as otherwise when its transition gets canceled it stops mid rotation\r\n    var trianglePolys = this.triangles.selectAll(\".outerTriangle\").data(this.triangleData); // data() which returns the update selection. this represents the selected DOM elements that were successfully bound to the specified data elements\r\n    // handle new triangles\r\n    var g = trianglePolys.enter();\r\n    this.createTriangles(g);\r\n    trianglePolys.exit().remove();\r\n\r\n    // update existing triangles\r\n    this.updateTriangles();\r\n\r\n    ////////////////////\r\n    //// DRAG POINT ////\r\n    ////////////////////\r\n    var drag = d3.behavior.drag()\r\n      .origin(d => _this.idToPoint(d.index))\r\n      .on(\"drag\", (d,i) => {\r\n          var maxR = _this.squareSize;\r\n          _this.r = (d3.event.x - _this.squareOffset[0].left).clamp(0, maxR);\r\n          _this.redraw();\r\n    });\r\n\r\n    var dragPoint = this.dragPoint.selectAll(\"circle\").data(this.dragPointData);\r\n    // update existing drag point\r\n    dragPoint.attr(\"cx\", d => _this.idToPoint(d.index).x )\r\n        .attr(\"cy\", d => _this.idToPoint(d.index).y);\r\n\r\n    // handle new dragPoint\r\n    dragPoint.enter().append(\"circle\")\r\n        .attr('class', 'dragpoint')\r\n        .attr(\"r\", 10)\r\n        .attr(\"cx\", d => _this.idToPoint(d.index).x )\r\n        .attr(\"cy\", d => _this.idToPoint(d.index).y )\r\n        .call(drag);\r\n\r\n    dragPoint.exit().remove();\r\n\r\n    ////////////////////\r\n    ////// SQUARES /////\r\n    ////////////////////\r\n    this.squares.selectAll('.square').remove(); // if its transition got canceled, we need to restore its opacity to 1.0\r\n    var squares = this.squares.selectAll(\".square\").data(this.squareData);\r\n    var g = squares.enter();\r\n    this.createSquares(g);\r\n    squares.exit().remove();\r\n    this.updateSquares();\r\n\r\n    ////////////////////\r\n    /////// TEXTS //////\r\n    ////////////////////\r\n    var texts = this.texts.selectAll('text').data(this.textData);\r\n    texts.exit().remove();\r\n    texts.enter().append(\"text\");\r\n    this.texts.selectAll('text')\r\n      .attr('transform', d => \"translate(\" + _this.idToPoint(d.translate).x + \",\" + _this.idToPoint(d.translate).y + \")\")\r\n      .text( d => d.caption)\r\n      .attr(\"font-size\", d => d.fontSize);\r\n\r\n    ////////////////////\r\n    ///// ANIMATIONS ///\r\n    ////////////////////\r\n    if(step == 1){\r\n      var opacityDuration = 1000, rotateDuration = 2000;\r\n      function rotateFn() {\r\n          // We only use 'd', but list d,i,a as params just to show can have them as params.\r\n          // Code only really uses d and t.\r\n          return (d, i) => {\r\n              var interpolater = d3.interpolate(d.rotation, d.rotation - 90); \r\n              return (t) => { return \"rotate(\" + (interpolater(t) % 360) + \")\" }\r\n          }\r\n      }\r\n      this.squares.selectAll('.square')\r\n          .style(\"opacity\", 0.0).transition().ease('linear')\r\n          .duration(opacityDuration).delay((d,i) => 3*(opacityDuration + rotateDuration)).style(\"opacity\", 1.0)\r\n          .each('end', () => {\r\n            stepper.onForward();\r\n          });\r\n      this.triangles.selectAll('.outerTriangle').filter((d, i) => i > 0 )  // all except first triangle\r\n          .style(\"opacity\", 0.0).transition().ease('linear')\r\n          .duration(opacityDuration).delay((d,i) => i * (opacityDuration + rotateDuration)).style(\"opacity\", 1.0)\r\n          .transition().selectAll('.middleTriangle').ease('linear').duration(rotateDuration).attrTween(\"transform\", rotateFn())\r\n    }\r\n    else if(step == 4){\r\n      var opacityDuration = 1000, rotateDuration = 2000, moveDuration = 2000;\r\n      function rotateFn() {\r\n          return (d, i) => {\r\n              var interpolater = d3.interpolate(d.rotation, d.rotationTo); \r\n              return (t) => \"rotate(\" + (interpolater(t) % 360) + \")\"\r\n          }\r\n      }\r\n\r\n      function translateFn() {\r\n          return function(d, i) {\r\n              var a = \"translate(\" + (_this.squareOffset[d.squareIndex].left + _this.idToPoint(d.translate).x) + \",\" + (_this.squareOffset[d.squareIndex].top + _this.idToPoint(d.translate).y) + \")\";\r\n              var b = \"translate(\" + (_this.squareOffset[d.squareIndex].left + _this.idToPoint(d.moveTo).x) + \",\" + (_this.squareOffset[d.squareIndex].top + _this.idToPoint(d.moveTo).y) + \")\";\r\n              var interpolater = d3.interpolateString(a, b); \r\n              return (t) => interpolater(t);\r\n          }\r\n      }\r\n      this.squares.selectAll('.square').filter((d, i) => i > 1 && d.squareIndex === 1)\r\n          .style(\"opacity\", 0.0);\r\n      // hide square => rotate 4th/7th triangle => move 4th/5th triangle => show two squares\r\n      this.squares.selectAll('.square').filter((d, i) => i === 1)\r\n          .transition().style(\"opacity\", 0.0).ease('linear').duration(opacityDuration)\r\n          .each('end', () => {\r\n              _this.triangles.selectAll('.middleTriangle').filter((d, i) => { return i === 4 || i === 7 })\r\n                .transition().ease('linear').duration(rotateDuration).delay((d,i) => {return (1-i) * rotateDuration})  // want to rotate the 7th triangle before the 4th\r\n                .attrTween(\"transform\", rotateFn())\r\n                .call(endAll, () => {\r\n                    _this.triangles.selectAll('.outerTriangle').filter((d, i) => { return i === 4 || i === 5 })\r\n                        .transition().ease('linear').duration(moveDuration)\r\n                        .attrTween(\"transform\", translateFn())\r\n                        .call(endAll, () => {\r\n                            _this.squares.selectAll('.square').filter((d, i) => { return i > 1 && d.squareIndex === 1})\r\n                              .transition().style(\"opacity\", 1.0).ease('linear').duration(opacityDuration)\r\n                              .call(endAll, () => {\r\n                                 stepper.onForward();\r\n                              });\r\n                        });\r\n                });\r\n          });\r\n    }\r\n    else if(step == 6){\r\n      var opacityDuration = 2000;\r\n      this.triangles.selectAll('.outerTriangle').filter((d, i) => i === 1 || i === 4)\r\n          .style(\"opacity\", 1.0).transition().ease('linear')\r\n          .duration(opacityDuration).delay(0).style(\"opacity\", 0.0);\r\n      this.triangles.selectAll('.outerTriangle').filter((d, i) => i === 2 || i === 5 )\r\n          .style(\"opacity\", 1.0).transition().ease('linear')\r\n          .duration(opacityDuration).delay(opacityDuration).style(\"opacity\", 0.0);\r\n      this.triangles.selectAll('.outerTriangle').filter((d, i) => i === 3 || i === 6 )\r\n          .style(\"opacity\", 1.0).transition().ease('linear')\r\n          .duration(opacityDuration).delay(2*opacityDuration).style(\"opacity\", 0.0)\r\n          .call(endAll, () => {\r\n             stepper.onForward();\r\n          });\r\n    }\r\n  }\r\n\r\n  createTriangles(selection) {\r\n      var _this = this;\r\n      var g = selection.append('svg:g').attr('class', 'outerTriangle');\r\n      var h = g.append('svg:g').attr('class', 'middleTriangle');\r\n      var j = h.append(\"polygon\").attr('class', 'innerTriangle');\r\n  }\r\n\r\n  createSquares(selection) {\r\n      selection.append('polygon').attr('class', 'square');\r\n  }\r\n\r\n  // http://stackoverflow.com/questions/18831949/d3js-make-new-parent-data-descend-into-child-nodes\r\n  // The values array specifies the data for each group in the selection. Thus, if the selection has multiple groups (such as a d3.selectAll followed by a selection.selectAll), \r\n  // then data should be specified as a function that returns an array (assuming that you want different data for each group). \r\n  // The function will be passed the current group data (or undefined) and the index, with the group as the this context. \r\n  // For example, you may bind a two-dimensional array to an initial selection, and then bind the contained inner arrays to each subselection. \r\n  // The values function in this case is the identity function: it is invoked for each group of child elements, being passed the data bound to the parent element, \r\n  // and returns this array of data.\r\n  updateTriangles() {\r\n      var _this = this;\r\n      var outer = this.triangles.selectAll('.outerTriangle').attr(\"transform\", (d) => {\r\n          return \"translate(\" + (_this.squareOffset[d.squareIndex].left + _this.idToPoint(d.translate).x) + \",\" + (_this.squareOffset[d.squareIndex].top + _this.idToPoint(d.translate).y) + \")\";\r\n        })\r\n        .style(\"opacity\", 1.0);\r\n      //console.log(outer.selectAll('.middleTriangle'));\r\n      var middle = outer.selectAll('.middleTriangle').data((d) => [d]) // descend parent data into children\r\n      .attr('transform', (d) => 'rotate(' + d.rotation + ')'\r\n      );\r\n      var inner = middle.selectAll('.innerTriangle').data((d) => [d]) // descend parent data into children\r\n        .attr(\"points\", (d) => { \r\n          // console.log(\"Updated triangle: \", d.a, d.b, d.c);\r\n          return _this.idToPoint(d.a).x + \" \" + _this.idToPoint(d.a).y + \", \"\r\n                + _this.idToPoint(d.b).x + \" \" + _this.idToPoint(d.b).y + \", \"\r\n                + _this.idToPoint(d.c).x + \" \" + _this.idToPoint(d.c).y;\r\n        })\r\n        .attr(\"transform\", (d) => \"translate(\" + -_this.idToPoint(d.pivot).x + \",\" +  -_this.idToPoint(d.pivot).y + \")\"\r\n        );\r\n  }\r\n\r\n  updateSquares() {\r\n      var _this = this;\r\n      this.squares.selectAll('.square')\r\n        .attr(\"points\", (d) => { \r\n          // console.log(\"Updated triangle: \", d.a, d.b, d.c);\r\n          return _this.idToPoint(d.a).x + \" \" + _this.idToPoint(d.a).y + \", \"\r\n                + _this.idToPoint(d.b).x + \" \" + _this.idToPoint(d.b).y + \", \"\r\n                + _this.idToPoint(d.c).x + \" \" + _this.idToPoint(d.c).y + \", \"\r\n                + _this.idToPoint(d.d).x + \" \" + _this.idToPoint(d.d).y;\r\n        })\r\n        .style(\"fill\", (d) => d.color)\r\n        .attr(\"transform\", (d) => \"translate(\" + (_this.squareOffset[d.squareIndex].left) + \",\" + (_this.squareOffset[d.squareIndex].top) + \")\"\r\n        );\r\n  }\r\n\r\n  onStep(forward){\r\n    // always stop all transitions\r\n    this.container.selectAll('.outerTriangle, .middleTriangle, .innerTriangle, .square').transition();\r\n    return super.onStep(forward);\r\n  }\r\n\r\n  createGradient(){\r\n    var gradient = this.svg.append(\"defs\")\r\n      .append(\"linearGradient\")\r\n        .attr(\"id\", \"gradient\")\r\n        .attr(\"x1\", \"30%\")\r\n        .attr(\"y1\", \"30%\")\r\n        .attr(\"x2\", \"100%\")\r\n        .attr(\"y2\", \"100%\")\r\n        .attr(\"spreadMethod\", \"pad\");\r\n\r\n    gradient.append(\"stop\")\r\n        .attr(\"offset\", \"0%\")\r\n        .attr(\"stop-color\", this.colors[1])\r\n        .attr(\"stop-opacity\", 1);\r\n\r\n    gradient.append(\"stop\")\r\n        .attr(\"offset\", \"100%\")\r\n        .attr(\"stop-color\", this.colors[2])\r\n        .attr(\"stop-opacity\", 1);\r\n  }\r\n}\r\n\r\nfunction endAll (transition, callback) {\r\n    var n;\r\n\r\n    if (transition.empty()) {\r\n        callback();\r\n    }\r\n    else {\r\n        n = transition.size();\r\n        transition.each(\"end\", () => {\r\n            n--;\r\n            if (n === 0) {\r\n                callback();\r\n            }\r\n        });\r\n    }\r\n}"]}