!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="/TriangleShortestCut/src/build/",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}var a=n(2),i=r(a),o=n(9),s=r(o);window.stepper={},jQuery(function(){window.stepper=new s.default;var t=new i.default(jQuery("#svgContainer").get(0));window.stepper.registerCallback(1,t.onStep.bind(t))})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),c=function y(t,e,n){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,e);if(void 0===r){var a=Object.getPrototypeOf(t);return null===a?void 0:y(a,e,n)}if("value"in r)return r.value;var i=r.get;if(void 0!==i)return i.call(n)},l=n(3),f=r(l),h=n(4),d=r(h);n(5);var p=function(t){function e(t){a(this,e);var n=i(this,Object.getPrototypeOf(e).call(this));n.svg=null,n.margin={top:-0,right:-0,bottom:-0,left:-0},n.width=1e3,n.height=1e3,n.currentStep=0,n.maxStep=1;var r=n.width+n.margin.left+n.margin.right,o=n.height+n.margin.top+n.margin.bottom,s=d3.select(t).append("svg").attr("viewBox","0 0 "+r+" "+o).append("g").attr("transform","translate("+n.margin.left+","+n.margin.right+")");n.svg=s,n.numDigits=4,n.eleSize=200,n.translate=[0,0],n.scale=1,s.append("rect").attr("class","svgOuterRect").attr("x",-n.margin.left).attr("y",-n.margin.top).attr("width",r).attr("height",o);var u=s.append("g").attr("class","container").attr("transform","translate("+n.translate[0]+","+n.translate[1]+"), scale("+n.scale+")");return n.container=u,n.elements=n.container.append("g"),n.redraw(0),n}return o(e,t),u(e,[{key:"createData",value:function(t){arguments.length<=1||void 0===arguments[1]?!0:arguments[1];console.log(t);for(var e=[],n=function(t){for(var n=5;n>=1;n--)e.push(s({},t,{id:[t.id[0],n],points:t.points.map(function(t){return t.clone()}),rotate:60*n}))},r=this.eleSize,a=1.5*r,i=2.5*r,o=0;4>o;o++){var u=Math.floor(o/2),c=o%2,l=new d.default(0,0),f=l.clone().add(d.default.fromAngle(240/180*Math.PI).scale(r)),h=l.clone().add(d.default.fromAngle(300/180*Math.PI).scale(r)),p=[l,f,h],y=i*c+a,v=i*u+a,g={id:[o,0],type:0,points:p,offset:[y,v],rotate:0};switch(e.push(g),1===t&&n(g),o){case 0:l=l.clone(),f=l.clone().add(d.default.fromAngle(240/180*Math.PI).scale(r/Math.sqrt(2))),h=l.clone().add(d.default.fromAngle(300/180*Math.PI).scale(r/Math.sqrt(2))),p=[l,f,h];break;case 1:l=l.clone(),f=l.clone().add(d.default.fromAngle(240/180*Math.PI).scale(r/2)),h=l.clone().add(d.default.fromAngle(300/180*Math.PI).scale(r)),p=[l,f,h];break;case 2:l=l.clone();var m=l.clone().add(d.default.fromAngle(240/180*Math.PI).scale(r/2)),b=l.clone().add(d.default.fromAngle(300/180*Math.PI).scale(r/2)),w=l.clone().add(d.default.fromAngle(1.5*Math.PI).scale(r*Math.sqrt(3)/2));p=[l,m,w,b];break;case 3:l=l.clone(),p=[l];for(var k=Math.sqrt(3*Math.sqrt(3)/(4*Math.PI)),x=0,M=10;M>=x;x++)p.push(l.clone().add(d.default.fromAngle((240+x/M*60)/180*Math.PI).scale(r*k)))}g={id:[o,0],type:1,points:p,offset:[y,v],rotate:0},e.push(g),1===t&&n(g)}this.elementData=e}},{key:"redraw",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.currentStep:arguments[0],e=arguments[1];this.currentStep=t,this.createData(t,e),this.elements.selectAll(".cont").remove(),this.createElements(),this.createAnimations()}},{key:"createElements",value:function(){console.log(this.elementData);var t=this.elements.selectAll(".cont").data(this.elementData).enter().append("g").attr("class","cont").attr("transform",function(t){return"translate("+t.offset[0]+", "+t.offset[1]+")"});t.selectAll(".element").data(function(t){return[t]}).enter().append("polygon").attr("class","element").attr("points",function(t){return t.points.map(function(t){return t.flipY().toArray().join(",")}).join(" ")}).attr("transform",function(t){return"rotate(0)"}).classed("type0",function(t){return 0===t.type}).classed("type1",function(t){return 1===t.type})}},{key:"createAnimations",value:function(){var t=1e3,e=this.elements.selectAll(".element");e.transition().ease("linear").duration(function(e,n){return e.rotate/60*t}).attrTween("transform",function(t){return d3.interpolateString("rotate(0)","rotate("+t.rotate+")")})}},{key:"onStep",value:function(t){return this.elements.selectAll(".element").interrupt().transition(),c(Object.getPrototypeOf(e.prototype),"onStep",this).call(this,t)}}]),e}(f.default);e.default=p},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){n(this,t),this.maxStep=0}return r(t,[{key:"redraw",value:function(){arguments.length<=0||void 0===arguments[0]?this.currentStep:arguments[0],arguments[1]}},{key:"onStep",value:function(t){var e=this.currentStep;t?e++:e--,e=Math.min(Math.max(e,0),this.maxStep);var n={canBackward:!1,canForward:!1};return e>0&&(n.canBackward=!0),e<this.maxStep&&(n.canForward=!0),e===this.currentStep?n:(this.currentStep=e,this.redraw(this.currentStep,t),n)}}]),t}();e.default=a},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){var e=arguments.length<=0||void 0===arguments[0]?0:arguments[0],r=arguments.length<=1||void 0===arguments[1]?0:arguments[1];if(n(this,t),"number"!=typeof e)throw new Error("Vector2::constructor: "+e+" is not a number.");if("number"!=typeof r)throw new Error("Vector2::constructor: "+r+" is not a number.");this.x=e,this.y=r}return r(t,null,[{key:"fromAngle",value:function(e){return new t(Math.cos(e),Math.sin(e))}},{key:"zero",get:function(){return new t(0,0)}},{key:"one",get:function(){return new t(1,1)}},{key:"left",get:function(){return new t(-1,0)}},{key:"right",get:function(){return new t(1,0)}},{key:"up",get:function(){return new t(0,1)}},{key:"down",get:function(){return new t(0,-1)}}]),r(t,[{key:"add",value:function(t){return this.x+=t.x,this.y+=t.y,this}},{key:"subtract",value:function(t){return this.x-=t.x,this.y-=t.y,this}},{key:"divide",value:function(t){return this.x/=t,this.y/=t,this}},{key:"scale",value:function(t){return this.x*=t,this.y*=t,this}},{key:"scaleTo",value:function(t){return this.scale(t/this.magnitude),this}},{key:"moveTowards",value:function(e,n){var r=new t(e.x-this.x,e.y-this.y).scaleTo(n);return this.add(r)}},{key:"normal",value:function(e){return new t(-this.y,this.x)}},{key:"dot",value:function(t){return this.x*t.x+this.y*t.y}},{key:"angle",value:function e(t){var e=Math.atan2(t.y-this.y,t.x-this.x)-Math.PI/2;return e+=Math.PI/2,0>e&&(e+=2*Math.PI),e}},{key:"distance",value:function(t){var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)}},{key:"distanceSqr",value:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n}},{key:"lerp",value:function(t,e){return this.x+=(this.x-t.x)*e,this.y+=(this.y-t.y)*e,this}},{key:"flipY",value:function(){return this.y*=-1,this}},{key:"clone",value:function(){return new t(this.x,this.y)}},{key:"toString",value:function(){return"("+this.x+","+this.y+")"}},{key:"toArray",value:function(){return[this.x,this.y]}},{key:"equals",value:function(t){var e=arguments.length<=1||void 0===arguments[1]?0:arguments[1];return Math.abs(this.x-t.x)<=e&&Math.abs(this.y-t.y)<=e}},{key:"normalized",get:function(){var e=this.magnitude;return new t(this.x/e,this.y/e)}},{key:"magnitude",get:function(){return Math.sqrt(this.x*this.x+this.y*this.y)}},{key:"sqrMagnitude",get:function(){return this.x*this.x+this.y*this.y}},{key:"minComponent",get:function(){return Math.min(this.x,this.y)}},{key:"maxComponent",get:function(){return Math.min(this.x,this.y)}}]),t}();e.default=a},function(t,e,n){var r=n(6);"string"==typeof r&&(r=[[t.id,r,""]]);n(8)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){e=t.exports=n(7)(),e.push([t.id,"#svgContainer{max-width:640px!important}.element{stroke:none}.type0{fill:#ccc}.type1{fill:#f66}",""])},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(r[i]=!0)}for(a=0;a<e.length;a++){var o=e[a];"number"==typeof o[0]&&r[o[0]]||(n&&!o[2]?o[2]=n:n&&(o[2]="("+o[2]+") and ("+n+")"),t.push(o))}},t}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=d[r.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](r.parts[i]);for(;i<r.parts.length;i++)a.parts.push(c(r.parts[i],e))}else{for(var o=[],i=0;i<r.parts.length;i++)o.push(c(r.parts[i],e));d[r.id]={id:r.id,refs:1,parts:o}}}}function a(t){for(var e=[],n={},r=0;r<t.length;r++){var a=t[r],i=a[0],o=a[1],s=a[2],u=a[3],c={css:o,media:s,sourceMap:u};n[i]?n[i].parts.push(c):e.push(n[i]={id:i,parts:[c]})}return e}function i(t,e){var n=v(),r=b[b.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),b.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function o(t){t.parentNode.removeChild(t);var e=b.indexOf(t);e>=0&&b.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",i(t,e),e}function u(t){var e=document.createElement("link");return e.rel="stylesheet",i(t,e),e}function c(t,e){var n,r,a;if(e.singleton){var i=m++;n=g||(g=s(e)),r=l.bind(null,n,i,!1),a=l.bind(null,n,i,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=u(e),r=h.bind(null,n),a=function(){o(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=f.bind(null,n),a=function(){o(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}function l(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=w(e,a);else{var i=document.createTextNode(a),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(i,o[e]):t.appendChild(i)}}function f(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function h(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),i=t.href;t.href=URL.createObjectURL(a),i&&URL.revokeObjectURL(i)}var d={},p=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},y=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),v=p(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,m=0,b=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=y()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=a(t);return r(n,e),function(t){for(var i=[],o=0;o<n.length;o++){var s=n[o],u=d[s.id];u.refs--,i.push(u)}if(t){var c=a(t);r(c,e)}for(var o=0;o<i.length;o++){var u=i[o];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete d[u.id]}}}};var w=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(e,"__esModule",{value:!0});var r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),a=function(){function t(){n(this,t),this.currentLayer=1,this.callbacks=[],window.addEventListener("keydown",this.onKeyDown.bind(this),!1)}return r(t,[{key:"onForward",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.currentLayer:arguments[0];this.currentLayer=t,this.doStep(!0)}},{key:"onBackward",value:function(){var t=arguments.length<=0||void 0===arguments[0]?this.currentLayer:arguments[0];this.currentLayer=t,this.doStep(!1)}},{key:"doStep",value:function(t){for(var e={canBackward:!1,canForward:!1},n=0;n<this.callbacks[this.currentLayer].length;n++)e=this.callbacks[this.currentLayer][n](t);this.disableButtons(this.currentLayer,e)}},{key:"disableButtons",value:function(t,e){document.getElementById("leftBtn"+t).disabled=!e.canBackward,document.getElementById("rightBtn"+t).disabled=!e.canForward}},{key:"registerCallback",value:function(t,e){"undefined"==typeof this.callbacks[t]&&(this.callbacks[t]=[]),this.callbacks[t].push(e),this.disableButtons(t,{canBackward:!1,canForward:!0})}},{key:"onKeyDown",value:function(t){switch(t.keyCode){case 65:case 37:this.onBackward(1);break;case 68:case 39:this.onForward(1)}}}]),t}();e.default=a}]);