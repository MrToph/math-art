!function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var r={};return t.m=e,t.c=r,t.p="/PeanoCurve/src/build/",t(0)}([function(e,t,r){e.exports=r(1)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}var a=r(2),i=n(a),o=r(10),s=n(o);window.stepper={},jQuery(function(){window.stepper=new s["default"];var e=new i["default"](jQuery("#svgContainer").get(0));window.stepper.registerCallback(1,e.onStep.bind(e))})},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function d(e,t,r){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var a=Object.getPrototypeOf(e);return null===a?void 0:d(a,t,r)}if("value"in n)return n.value;var i=n.get;if(void 0!==i)return i.call(r)},c=r(3),l=n(c),f=r(4),p=n(f);r(6);var h=function(e){function t(e){a(this,t);var r=i(this,Object.getPrototypeOf(t).call(this));r.svg=null,r.margin={top:-0,right:-0,bottom:-0,left:-0},r.width=1e3,r.height=1e3,r.currentStep=0,r.maxStep=4;var n=r.width+r.margin.left+r.margin.right,o=r.height+r.margin.top+r.margin.bottom;r.eleSize=1e3,r.translate=[0,0],r.scale=1;var s=d3.select(e).append("svg").attr("viewBox","0 0 "+n+" "+o).append("g").attr("transform","translate("+r.margin.left+","+r.margin.right+")");r.svg=s,s.append("rect").attr("class","svgOuterRect").attr("x",-r.margin.left).attr("y",-r.margin.top).attr("width",n).attr("height",o);var u=s.append("g").attr("class","container").attr("transform","translate("+r.translate[0]+","+r.translate[1]+"),scale("+r.scale+")");return r.container=u,r.elements=r.container.append("g"),r.previousCurve=new p["default"],r.currentCurve=new p["default"],r.currentCurve.createData(0),r.redraw(0),r}return o(t,e),s(t,[{key:"createData",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?!0:arguments[1];t?(this.previousCurve=this.currentCurve,this.currentCurve=new p["default"],this.currentCurve.createData(e+1)):(this.currentCurve=this.previousCurve,this.previousCurve=new p["default"],this.previousCurve.createData(e));var r=Math.pow(2,e+1);r=(r-1)/r;var n=[{id:e,type:1,scale:r,strokeWidth:this.maxStep-e+2,points:this.previousCurve.getPoints()},{id:e+1,type:0,scale:1,strokeWidth:this.maxStep-e+1,points:this.currentCurve.getPoints()}];this.curvesData=n}},{key:"redraw",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.currentStep:arguments[0],t=arguments[1];this.currentStep=e,this.createData(e,t),this.elements.selectAll(".groupContainer").remove(),this.createElements(e),this.createAnimations(e)}},{key:"createElements",value:function(){var e=this,t=this.elements.selectAll(".groupContainer").data(this.curvesData);t.enter().append("g").attr("class","groupContainer");var r=function(t){return d3.svg.line().x(function(r){return(r[0]*t+.5*(1-t))*e.eleSize}).y(function(r){return(r[1]*t+.5*(1-t))*e.eleSize}).interpolate("linear")};this.elements.selectAll(".groupContainer").append("path").attr("class","element").attr("d",function(e){return r(e.scale)(e.points)}).attr("stroke-width",function(e){return e.strokeWidth}).classed("type0",function(e){return 0===e.type}).classed("type1",function(e){return 1===e.type})}},{key:"createAnimations",value:function(e){var t=this.elements.selectAll(".element").filter(function(t){return t.id===e+1}),r=t.node().getTotalLength();t.attr("stroke-dasharray",r+" "+r).attr("stroke-dashoffset",r).transition().duration(3e3*(e+1)).ease("linear").attr("stroke-dashoffset",0)}},{key:"onStep",value:function(e){return this.elements.selectAll(".element").interrupt().transition(),u(Object.getPrototypeOf(t.prototype),"onStep",this).call(this,e)}}]),t}(l["default"]);t["default"]=h},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){r(this,e),this.maxStep=0}return n(e,[{key:"redraw",value:function(){arguments.length<=0||void 0===arguments[0]?this.currentStep:arguments[0],arguments[1]}},{key:"onStep",value:function(e){var t=this.currentStep;e?t++:t--,t=Math.min(Math.max(t,0),this.maxStep);var r={canBackward:!1,canForward:!1};return t>0&&(r.canBackward=!0),t<this.maxStep&&(r.canForward=!0),t===this.currentStep?r:(this.currentStep=t,this.redraw(this.currentStep,e),r)}}]),e}();t["default"]=a},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=r(5),c=n(u),l=function(e){function t(){return a(this,t),i(this,Object.getPrototypeOf(t).call(this))}return o(t,e),s(t,[{key:"createData",value:function(e){return this.points=[],this.recLevel=e,0>=e?void 0:(this.maxSize=Math.pow(3,e)-1,this.createDataRecursive(0,0,Math.pow(3,e),0,0),this.points)}},{key:"createDataRecursive",value:function(e,t,r,n,a){1===r?this.points.push([e/this.maxSize,1-t/this.maxSize]):(r/=3,this.createDataRecursive(e+2*n*r,t+2*n*r,r,n,a),this.createDataRecursive(e+(n-a+1)*r,t+(n+a)*r,r,n,1-a),this.createDataRecursive(e+r,t+r,r,n,1-a),this.createDataRecursive(e+(n+a)*r,t+(n-a+1)*r,r,1-n,1-a),this.createDataRecursive(e+2*a*r,t+2*(1-a)*r,r,n,a),this.createDataRecursive(e+(1+a-n)*r,t+(2-n-a)*r,r,n,a),this.createDataRecursive(e+2*(1-n)*r,t+2*(1-n)*r,r,n,a),this.createDataRecursive(e+(2-n-a)*r,t+(1+a-n)*r,r,1-n,a),this.createDataRecursive(e+2*(1-a)*r,t+2*a*r,r,1-n,a))}}]),t}(c["default"]);t["default"]=l},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){r(this,e)}return n(e,[{key:"getPointsAsString",value:function(){return this.points.toString()}},{key:"getPoints",value:function(){return this.points}}]),e}();t["default"]=a},function(e,t,r){var n=r(7);"string"==typeof n&&(n=[[e.id,n,""]]);r(9)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(8)(),t.push([e.id,"#svgContainer{max-width:640px!important}.element{fill:none}.type0{stroke:#ff3232}.type1{stroke:#ccc}.color3{fill:#3232ff}",""])},function(e,t){"use strict";e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},a=0;a<this.length;a++){var i=this[a][0];"number"==typeof i&&(n[i]=!0)}for(a=0;a<t.length;a++){var o=t[a];"number"==typeof o[0]&&n[o[0]]||(r&&!o[2]?o[2]=r:r&&(o[2]="("+o[2]+") and ("+r+")"),e.push(o))}},e}},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],a=h[n.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(c(n.parts[i],t))}else{for(var o=[],i=0;i<n.parts.length;i++)o.push(c(n.parts[i],t));h[n.id]={id:n.id,refs:1,parts:o}}}}function a(e){for(var t=[],r={},n=0;n<e.length;n++){var a=e[n],i=a[0],o=a[1],s=a[2],u=a[3],c={css:o,media:s,sourceMap:u};r[i]?r[i].parts.push(c):t.push(r[i]={id:i,parts:[c]})}return t}function i(e,t){var r=y(),n=m[m.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),m.push(t);else{if("bottom"!==e.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");r.appendChild(t)}}function o(e){e.parentNode.removeChild(e);var t=m.indexOf(e);t>=0&&m.splice(t,1)}function s(e){var t=document.createElement("style");return t.type="text/css",i(e,t),t}function u(e){var t=document.createElement("link");return t.rel="stylesheet",i(e,t),t}function c(e,t){var r,n,a;if(t.singleton){var i=g++;r=b||(b=s(t)),n=l.bind(null,r,i,!1),a=l.bind(null,r,i,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=u(t),n=p.bind(null,r),a=function(){o(r),r.href&&URL.revokeObjectURL(r.href)}):(r=s(t),n=f.bind(null,r),a=function(){o(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}function l(e,t,r,n){var a=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=w(t,a);else{var i=document.createTextNode(a),o=e.childNodes;o[t]&&e.removeChild(o[t]),o.length?e.insertBefore(i,o[t]):e.appendChild(i)}}function f(e,t){var r=t.css,n=t.media;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function p(e,t){var r=t.css,n=t.sourceMap;n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var a=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(a),i&&URL.revokeObjectURL(i)}var h={},d=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},v=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),y=d(function(){return document.head||document.getElementsByTagName("head")[0]}),b=null,g=0,m=[];e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=v()),"undefined"==typeof t.insertAt&&(t.insertAt="bottom");var r=a(e);return n(r,t),function(e){for(var i=[],o=0;o<r.length;o++){var s=r[o],u=h[s.id];u.refs--,i.push(u)}if(e){var c=a(e);n(c,t)}for(var o=0;o<i.length;o++){var u=i[o];if(0===u.refs){for(var l=0;l<u.parts.length;l++)u.parts[l]();delete h[u.id]}}}};var w=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=function(){function e(){r(this,e),this.currentLayer=1,this.callbacks=[],window.addEventListener("keydown",this.onKeyDown.bind(this),!1)}return n(e,[{key:"onForward",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.currentLayer:arguments[0];this.currentLayer=e,this.doStep(!0)}},{key:"onBackward",value:function(){var e=arguments.length<=0||void 0===arguments[0]?this.currentLayer:arguments[0];this.currentLayer=e,this.doStep(!1)}},{key:"doStep",value:function(e){for(var t={canBackward:!1,canForward:!1},r=0;r<this.callbacks[this.currentLayer].length;r++)t=this.callbacks[this.currentLayer][r](e);this.disableButtons(this.currentLayer,t)}},{key:"disableButtons",value:function(e,t){document.getElementById("leftBtn"+e).disabled=!t.canBackward,document.getElementById("rightBtn"+e).disabled=!t.canForward}},{key:"registerCallback",value:function(e,t){"undefined"==typeof this.callbacks[e]&&(this.callbacks[e]=[]),this.callbacks[e].push(t),this.disableButtons(e,{canBackward:!1,canForward:!0})}},{key:"onKeyDown",value:function(e){switch(e.keyCode){case 65:case 37:this.onBackward(1);break;case 68:case 39:this.onForward(1)}}}]),e}();t["default"]=a}]);