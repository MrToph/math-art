{"version":3,"sources":["../js/visualization.jsx"],"names":[],"mappings":"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","file":"visualization-compiled.js","sourcesContent":["class Visualization {\r\n  constructor(element) {\r\n    this.svg = null;\r\n    this.margin = {top: -0, right: -0, bottom: -0, left: -0};\r\n    this.width = 1000;\r\n    this.height = 500;\r\n\r\n    this.currentStep = 0;\r\n    this.maxStep = 0;\r\n\r\n    let realWidth = this.width + this.margin.left + this.margin.right;\r\n    let realHeight = this.height + this.margin.top + this.margin.bottom;\r\n    this.translate = [realWidth * 0.33,0];\r\n    this.scale = 1;\r\n\r\n    let svg = d3.select(element).append(\"svg\")\r\n        .attr(\"viewBox\", \"0 0 \" + realWidth + \" \" + realHeight)\r\n        .append(\"g\")\r\n        .attr(\"transform\", \"translate(\" + this.margin.left + \",\" + this.margin.right + \")\")\r\n\r\n    this.svg = svg;\r\n\r\n    let rect = svg.append(\"rect\")\r\n                .attr(\"class\", \"svgOuterRect\")\r\n                .attr(\"x\", -this.margin.left)\r\n                .attr(\"y\", -this.margin.top)\r\n                .attr(\"width\", realWidth)\r\n                .attr(\"height\", realHeight);\r\n\r\n    let container = svg.append(\"g\")\r\n                      .attr(\"transform\", \"translate(\" + this.translate[0] + \",\" + this.translate[1] + \"),scale(\" + this.scale + \")\");\r\n    this.container = container;\r\n    this.squares = this.container.append('g');\r\n    this.triangles = this.container.append('g');\r\n    this.links = [];\r\n\r\n    // Constants\r\n    this.colors = [\"#ff3232\", \"#32CD32\", \"#3232ff\", \"#ffa500\", \"#8A2BE2\"];\r\n    this.sqrSize = 100;\r\n    this.numLayers = 5;\r\n\r\n    this.redraw(0);\r\n  }\r\n\r\ncreateData() {\r\n    let sqrArr = [];\r\n    let trArr = [];\r\n    for(let i = 0; i < this.numLayers; i++){\r\n        for(let j = 0; j < i; j++){\r\n            let xPos = j * this.sqrSize;\r\n            let yPos = i * this.sqrSize;\r\n            let obj = {id: [i,j], x: xPos, y: yPos};\r\n            sqrArr.push(obj);\r\n        }\r\n        for(let j = 0; j < 2; j++){\r\n            let a = [i * this.sqrSize, i * this.sqrSize];   // topleft\r\n            let b = j == 0 ? [i * this.sqrSize, (i+1) * this.sqrSize] : [(i+1) * this.sqrSize, (i) * this.sqrSize];   // botleft // topRight\r\n            let c = [(i+1) * this.sqrSize, (i+1) * this.sqrSize];   // botRight\r\n            let obj = {a: a, b: b, c: c, type: j};\r\n            trArr.push(obj);\r\n        }\r\n    }\r\n    this.squareData = sqrArr;\r\n    this.triangleData = trArr;\r\n}\r\n\r\nredraw(step = this.currentStep){\r\n    this.currentStep = step;\r\n    this.createData();\r\n    this.createPolygons();\r\n}\r\n\r\n  createPolygons(){\r\n    let squares = this.squares.selectAll(\".square\").data(this.squareData);\r\n    squares.enter().append('rect').attr('class', 'square');\r\n    this.squares.selectAll(\".square\")\r\n                .attr('width', this.sqrSize)\r\n                .attr('height', this.sqrSize)\r\n                .attr('x', d => d.x)\r\n                .attr('y', d => d.y);\r\n\r\n    let triangles = this.triangles.selectAll(\".triangle\").data(this.triangleData);\r\n    triangles.enter().append('polygon').attr('class', 'triangle');\r\n    this.triangles.selectAll(\".triangle\")\r\n                .attr('points', d => `${d.a[0]},${d.a[1]} ${d.b[0]},${d.b[1]} ${d.c[0]},${d.c[1]} `)\r\n                .classed('lowerTriangle', d => d.type == 0)\r\n                .classed('upperTriangle', d => d.type == 1);\r\n  }\r\n}"]}